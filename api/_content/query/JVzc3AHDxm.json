{"_path":"/til/docker-acesso-ssh-tunelado-para-localhost","_draft":false,"_partial":false,"_locale":"en","_empty":false,"title":"Acessar uma aplicação rodando em 'localhost' remoto via túnel SSH","description":"Para acessar uma interface de administração que só está disponível para localhost remotamente você pode usar uma conexão SSH através de um túnel.","excerpt":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Para acessar uma interface de administração que só está disponível para localhost remotamente\nvocê pode usar uma conexão SSH através de um túnel."}]},{"type":"element","tag":"code","props":{"code":"# Iniciar um tunel para redirecionamento de porta\n# localhost:porta remoto aponta para localhost:porta local\nssh -fNTL localhost:8080:$(ssh nome-ou-ip-do-servidor \\\n  \"docker inspect --format '{{ .NetworkSettings.IPAddress }}' \\\n    nome-do-container\"):8080 nome-ou-ip-do-servidor\n\n# Abrir o navegador para acessar através do tunel\nxdg-open http://localhost:8080\n\n# Terminar o tunel\nkill $(lsof -t -i @localhost:8080 -sTCP:listen)\n","language":"bash"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"# Iniciar um tunel para redirecionamento de porta\n# localhost:porta remoto aponta para localhost:porta local\nssh -fNTL localhost:8080:$(ssh nome-ou-ip-do-servidor \\\n  \"docker inspect --format '{{ .NetworkSettings.IPAddress }}' \\\n    nome-do-container\"):8080 nome-ou-ip-do-servidor\n\n# Abrir o navegador para acessar através do tunel\nxdg-open http://localhost:8080\n\n# Terminar o tunel\nkill $(lsof -t -i @localhost:8080 -sTCP:listen)\n"}]}]}]},{"type":"element","tag":"h2","props":{"id":"referências"},"children":[{"type":"text","value":"Referências"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://hub.docker.com/_/rethinkdb","rel":["nofollow"]},"children":[{"type":"text","value":"Connecting to the web admin interface on a remote / virtual host via SSH"}]}]}]}]},"date":"2020-06-13T00:00:00.000Z","draft":false,"tags":["docker","ssh","xgd-open","túnel"],"Thumbnail":"img/headers/docker.jpg","body":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Para acessar uma interface de administração que só está disponível para localhost remotamente\nvocê pode usar uma conexão SSH através de um túnel."}]},{"type":"element","tag":"code","props":{"code":"# Iniciar um tunel para redirecionamento de porta\n# localhost:porta remoto aponta para localhost:porta local\nssh -fNTL localhost:8080:$(ssh nome-ou-ip-do-servidor \\\n  \"docker inspect --format '{{ .NetworkSettings.IPAddress }}' \\\n    nome-do-container\"):8080 nome-ou-ip-do-servidor\n\n# Abrir o navegador para acessar através do tunel\nxdg-open http://localhost:8080\n\n# Terminar o tunel\nkill $(lsof -t -i @localhost:8080 -sTCP:listen)\n","language":"bash"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-210c01"},"children":[{"type":"text","value":"# Iniciar um tunel para redirecionamento de porta"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-210c01"},"children":[{"type":"text","value":"# localhost:porta remoto aponta para localhost:porta local"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-c450c5"},"children":[{"type":"text","value":"ssh -fNTL localhost:8080:"}]},{"type":"element","tag":"span","props":{"class":"ct-3e3a2d"},"children":[{"type":"text","value":"$(ssh nome-ou-ip-do-servidor \\"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-3e3a2d"},"children":[{"type":"text","value":"  \"docker inspect --format '{{ .NetworkSettings.IPAddress }}' "}]},{"type":"element","tag":"span","props":{"class":"ct-e0a0a4"},"children":[{"type":"text","value":"\\"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-3e3a2d"},"children":[{"type":"text","value":"    nome-do-container\")"}]},{"type":"element","tag":"span","props":{"class":"ct-c450c5"},"children":[{"type":"text","value":":8080 nome-ou-ip-do-servidor"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-210c01"},"children":[{"type":"text","value":"# Abrir o navegador para acessar através do tunel"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-c450c5"},"children":[{"type":"text","value":"xdg-open http://localhost:8080"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-210c01"},"children":[{"type":"text","value":"# Terminar o tunel"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-4778a5"},"children":[{"type":"text","value":"kill"}]},{"type":"element","tag":"span","props":{"class":"ct-c450c5"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-3e3a2d"},"children":[{"type":"text","value":"$(lsof -t -i @localhost:8080 -sTCP:listen)"}]}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"referências"},"children":[{"type":"text","value":"Referências"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://hub.docker.com/_/rethinkdb","rel":["nofollow"]},"children":[{"type":"text","value":"Connecting to the web admin interface on a remote / virtual host via SSH"}]}]}]},{"type":"element","tag":"style","children":[{"type":"text","value":".ct-4778a5{color:#66D9EF}.ct-e0a0a4{color:#AE81FF}.ct-3e3a2d{color:#E6DB74}.ct-c450c5{color:#F8F8F2}.ct-210c01{color:#88846F}"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"referências","depth":2,"text":"Referências"}]}},"_type":"markdown","_id":"content:til:docker-acesso-ssh-tunelado-para-localhost.md","_source":"content","_file":"til/docker-acesso-ssh-tunelado-para-localhost.md","_extension":"md"}