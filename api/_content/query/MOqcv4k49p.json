[{"_path":"/til/lxc","_draft":false,"_partial":false,"_locale":"en","_empty":false,"title":"LXC - Linux Container","description":"Features:","excerpt":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Features:"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"device pass-through capabilities"},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"assign hardware directly to the lxc containers"}]}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"network and storage management capabilities"},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"storage pooling"}]}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"snapshot of running container"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"live migration of running containers between hosts"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"LXD can also integrate with cloud platform, such OpenStack"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"improved control over compute resources"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"clustering"}]}]}]},"date":"2022-09-05T00:00:00.000Z","draft":false,"tags":["lxc","linux","container"],"body":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Features:"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"device pass-through capabilities"},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"assign hardware directly to the lxc containers"}]}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"network and storage management capabilities"},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"storage pooling"}]}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"snapshot of running container"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"live migration of running containers between hosts"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"LXD can also integrate with cloud platform, such OpenStack"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"improved control over compute resources"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"clustering"}]}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[]}},"_type":"markdown","_id":"content:til:lxc.md","_source":"content","_file":"til/lxc.md","_extension":"md"},{"_path":"/til/linux-cgroup","_draft":false,"_partial":false,"_locale":"en","_empty":false,"title":"cgroup - Grupos de controle linux","description":"Grupos de controle linux.","excerpt":{"type":"root","children":[{"type":"element","tag":"h2","props":{"id":"introdução"},"children":[{"type":"text","value":"Introdução"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"cgroup"}]},{"type":"text","value":" é uma das tecnologias de isolação mais importantes usadas em "},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"containers"}]},{"type":"text","value":"."}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Listando os cgroups"}]},{"type":"element","tag":"code","props":{"code":"cat /proc/1/cgroup \n","language":"bash"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"cat /proc/1/cgroup \n"}]}]}]},{"type":"element","tag":"code","props":{"code":"11:freezer:/\n10:net_cls,net_prio:/\n9:blkio:/\n8:memory:/\n7:devices:/\n6:cpu,cpuacct:/\n5:perf_event:/\n4:pids:/\n3:rdma:/\n2:cpuset:/\n1:name=systemd:/init.scope\n0::/init.scope\n"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"11:freezer:/\n10:net_cls,net_prio:/\n9:blkio:/\n8:memory:/\n7:devices:/\n6:cpu,cpuacct:/\n5:perf_event:/\n4:pids:/\n3:rdma:/\n2:cpuset:/\n1:name=systemd:/init.scope\n0::/init.scope\n"}]}]}]},{"type":"element","tag":"h2","props":{"id":"referências"},"children":[{"type":"text","value":"Referências"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://unit42.paloaltonetworks.com/gaining-persistency-vulnerable-lambdas","rel":["nofollow"]},"children":[{"type":"text","value":"Gaining Persistency on Vulnerable Lambdas"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"http://man7.org/linux/man-pages/man7/cgroups.7.html","rel":["nofollow"]},"children":[{"type":"text","value":"Manual: cgroups - Linux control groups"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://github.com/opencontainers/runc","rel":["nofollow"]},"children":[{"type":"text","value":"github: CLI tool for spawning and running containers according to the OCI specification"}]}]}]}]},"date":"2020-01-31T00:00:00.000Z","draft":true,"tags":["linux","aws","lambda"],"Thumbnail":"img/headers/linux.jpg","body":{"type":"root","children":[{"type":"element","tag":"h2","props":{"id":"introdução"},"children":[{"type":"text","value":"Introdução"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"cgroup"}]},{"type":"text","value":" é uma das tecnologias de isolação mais importantes usadas em "},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"containers"}]},{"type":"text","value":"."}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Listando os cgroups"}]},{"type":"element","tag":"code","props":{"code":"cat /proc/1/cgroup \n","language":"bash"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-3811d2"},"children":[{"type":"text","value":"cat /proc/1/cgroup "}]}]}]}]}]},{"type":"element","tag":"code","props":{"code":"11:freezer:/\n10:net_cls,net_prio:/\n9:blkio:/\n8:memory:/\n7:devices:/\n6:cpu,cpuacct:/\n5:perf_event:/\n4:pids:/\n3:rdma:/\n2:cpuset:/\n1:name=systemd:/init.scope\n0::/init.scope\n"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"11:freezer:/\n10:net_cls,net_prio:/\n9:blkio:/\n8:memory:/\n7:devices:/\n6:cpu,cpuacct:/\n5:perf_event:/\n4:pids:/\n3:rdma:/\n2:cpuset:/\n1:name=systemd:/init.scope\n0::/init.scope"}]}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"referências"},"children":[{"type":"text","value":"Referências"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://unit42.paloaltonetworks.com/gaining-persistency-vulnerable-lambdas","rel":["nofollow"]},"children":[{"type":"text","value":"Gaining Persistency on Vulnerable Lambdas"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"http://man7.org/linux/man-pages/man7/cgroups.7.html","rel":["nofollow"]},"children":[{"type":"text","value":"Manual: cgroups - Linux control groups"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://github.com/opencontainers/runc","rel":["nofollow"]},"children":[{"type":"text","value":"github: CLI tool for spawning and running containers according to the OCI specification"}]}]}]},{"type":"element","tag":"style","children":[{"type":"text","value":".ct-3811d2{color:#F8F8F2}"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"introdução","depth":2,"text":"Introdução"},{"id":"referências","depth":2,"text":"Referências"}]}},"_type":"markdown","_id":"content:til:linux-cgroup.md","_source":"content","_file":"til/linux-cgroup.md","_extension":"md"},{"_path":"/til/gerenciador-de-arquivos","_draft":false,"_partial":false,"_locale":"en","_empty":false,"title":"Gerenciador de arquivos","description":"O gerenciador de arquivos pode fazer muito mais do que simplesmente copiar, colar e renomear arquivos.","excerpt":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"O gerenciador de arquivos pode fazer muito mais do que simplesmente copiar, colar e renomear arquivos."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Você já conhece o "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Nemo"}]},{"type":"text","value":", um fork do "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"GNOME Files"}]},{"type":"text","value":"?"}]},{"type":"element","tag":"h2","props":{"id":"instalando-o-nemo"},"children":[{"type":"text","value":"Instalando o nemo"}]},{"type":"element","tag":"code","props":{"code":"apt install nemo\n","language":"bash"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"apt install nemo\n"}]}]}]},{"type":"element","tag":"h2","props":{"id":"nemo-como-gerenciador-padrão"},"children":[{"type":"text","value":"Nemo como gerenciador padrão"}]},{"type":"element","tag":"code","props":{"code":"xdg-mime default nemo.desktop inode/directory application/x-gnome-saved-search\n","language":"bash"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"xdg-mime default nemo.desktop inode/directory application/x-gnome-saved-search\n"}]}]}]},{"type":"element","tag":"h2","props":{"id":"criando-novas-funções"},"children":[{"type":"text","value":"Criando novas funções"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"O arquivo "},{"type":"element","tag":"a","props":{"href":"https://github.com/linuxmint/nemo/blob/master/files/usr/share/nemo/actions/sample.nemo_action","rel":["nofollow"]},"children":[{"type":"text","value":"/usr/share/nemo/actions/sample.nemo_action"}]},{"type":"text","value":" contém um exemplo de script para criação de comandos."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"O locais padrão para os arquivos de script são:"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"/usr/share/nemo/actions/"}]},{"type":"text","value":" para todos os usuários do sistema"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"~/.local/share/nemo/actions/"}]},{"type":"text","value":" para um usuário específico"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Nota: os arquivos precisam ter a extensão "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":".nemo_action"}]},{"type":"text","value":"."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Exemplo: "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"clamscan.nemo_action"}]}]},{"type":"element","tag":"code","props":{"code":"[Nemo Action]\nName=Clam Scan\nComment=Clam Scan\nExec=gnome-terminal -x sh -c \"clamscan -r %F | less\"\nIcon-Name=bug-buddy\nSelection=Any\nExtensions=dir;exe;dll;zip;gz;7z;rar;\n","language":"bash"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"[Nemo Action]\nName=Clam Scan\nComment=Clam Scan\nExec=gnome-terminal -x sh -c \"clamscan -r %F | less\"\nIcon-Name=bug-buddy\nSelection=Any\nExtensions=dir;exe;dll;zip;gz;7z;rar;\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Exemplo: "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"archive.nemo_action"}]}]},{"type":"element","tag":"code","props":{"code":"[Nemo Action]\nActive=true\nName=Archive %N\nComment=Archiving %N will add .archive to the object.\nExec=<archive.py %F>\nSelection=S\nExtensions=any;\n","language":"bash"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"[Nemo Action]\nActive=true\nName=Archive %N\nComment=Archiving %N will add .archive to the object.\nExec=<archive.py %F>\nSelection=S\nExtensions=any;\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Exemplo: "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"archive.py"}]}]},{"type":"element","tag":"code","props":{"code":"#! /usr/bin/python2 -OOt\nimport sys\nimport os\nimport shutil\nfilename = sys.argv[0]\nprint \"Running \" + filename\nprint \"With the following arguments:\"\nfor arg in sys.argv:\n    if filename == arg:\n        continue\n    else:\n        print arg\n        #os.rename('%s','%s.archive') % (arg,arg)\n        shutil.move(arg, arg+\".archive\")\n","language":"python"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"#! /usr/bin/python2 -OOt\nimport sys\nimport os\nimport shutil\nfilename = sys.argv[0]\nprint \"Running \" + filename\nprint \"With the following arguments:\"\nfor arg in sys.argv:\n    if filename == arg:\n        continue\n    else:\n        print arg\n        #os.rename('%s','%s.archive') % (arg,arg)\n        shutil.move(arg, arg+\".archive\")\n"}]}]}]},{"type":"element","tag":"h2","props":{"id":"referências"},"children":[{"type":"text","value":"Referências"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://wiki.archlinux.org/index.php/Nemo","rel":["nofollow"]},"children":[{"type":"text","value":"Nemo wiki do archlinux"}]}]}]}]},"date":"2019-07-02T00:00:00.000Z","draft":false,"tags":["gerenciador de arquivos","linux","debian","ubuntu"],"Thumbnail":"img/headers/debian-ubuntu.jpg","body":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"O gerenciador de arquivos pode fazer muito mais do que simplesmente copiar, colar e renomear arquivos."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Você já conhece o "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Nemo"}]},{"type":"text","value":", um fork do "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"GNOME Files"}]},{"type":"text","value":"?"}]},{"type":"element","tag":"h2","props":{"id":"instalando-o-nemo"},"children":[{"type":"text","value":"Instalando o nemo"}]},{"type":"element","tag":"code","props":{"code":"apt install nemo\n","language":"bash"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-346ef5"},"children":[{"type":"text","value":"apt install nemo"}]}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"nemo-como-gerenciador-padrão"},"children":[{"type":"text","value":"Nemo como gerenciador padrão"}]},{"type":"element","tag":"code","props":{"code":"xdg-mime default nemo.desktop inode/directory application/x-gnome-saved-search\n","language":"bash"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-346ef5"},"children":[{"type":"text","value":"xdg-mime default nemo.desktop inode/directory application/x-gnome-saved-search"}]}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"criando-novas-funções"},"children":[{"type":"text","value":"Criando novas funções"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"O arquivo "},{"type":"element","tag":"a","props":{"href":"https://github.com/linuxmint/nemo/blob/master/files/usr/share/nemo/actions/sample.nemo_action","rel":["nofollow"]},"children":[{"type":"text","value":"/usr/share/nemo/actions/sample.nemo_action"}]},{"type":"text","value":" contém um exemplo de script para criação de comandos."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"O locais padrão para os arquivos de script são:"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"/usr/share/nemo/actions/"}]},{"type":"text","value":" para todos os usuários do sistema"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"~/.local/share/nemo/actions/"}]},{"type":"text","value":" para um usuário específico"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Nota: os arquivos precisam ter a extensão "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":".nemo_action"}]},{"type":"text","value":"."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Exemplo: "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"clamscan.nemo_action"}]}]},{"type":"element","tag":"code","props":{"code":"[Nemo Action]\nName=Clam Scan\nComment=Clam Scan\nExec=gnome-terminal -x sh -c \"clamscan -r %F | less\"\nIcon-Name=bug-buddy\nSelection=Any\nExtensions=dir;exe;dll;zip;gz;7z;rar;\n","language":"bash"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-346ef5"},"children":[{"type":"text","value":"[Nemo Action]"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-346ef5"},"children":[{"type":"text","value":"Name=Clam Scan"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-346ef5"},"children":[{"type":"text","value":"Comment=Clam Scan"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-346ef5"},"children":[{"type":"text","value":"Exec=gnome-terminal -x sh -c "}]},{"type":"element","tag":"span","props":{"class":"ct-321561"},"children":[{"type":"text","value":"\"clamscan -r %F | less\""}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-346ef5"},"children":[{"type":"text","value":"Icon-Name=bug-buddy"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-346ef5"},"children":[{"type":"text","value":"Selection=Any"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-346ef5"},"children":[{"type":"text","value":"Extensions=dir"}]},{"type":"element","tag":"span","props":{"class":"ct-930b41"},"children":[{"type":"text","value":";"}]},{"type":"element","tag":"span","props":{"class":"ct-346ef5"},"children":[{"type":"text","value":"exe"}]},{"type":"element","tag":"span","props":{"class":"ct-930b41"},"children":[{"type":"text","value":";"}]},{"type":"element","tag":"span","props":{"class":"ct-346ef5"},"children":[{"type":"text","value":"dll"}]},{"type":"element","tag":"span","props":{"class":"ct-930b41"},"children":[{"type":"text","value":";"}]},{"type":"element","tag":"span","props":{"class":"ct-346ef5"},"children":[{"type":"text","value":"zip"}]},{"type":"element","tag":"span","props":{"class":"ct-930b41"},"children":[{"type":"text","value":";"}]},{"type":"element","tag":"span","props":{"class":"ct-346ef5"},"children":[{"type":"text","value":"gz"}]},{"type":"element","tag":"span","props":{"class":"ct-930b41"},"children":[{"type":"text","value":";"}]},{"type":"element","tag":"span","props":{"class":"ct-346ef5"},"children":[{"type":"text","value":"7z"}]},{"type":"element","tag":"span","props":{"class":"ct-930b41"},"children":[{"type":"text","value":";"}]},{"type":"element","tag":"span","props":{"class":"ct-346ef5"},"children":[{"type":"text","value":"rar"}]},{"type":"element","tag":"span","props":{"class":"ct-930b41"},"children":[{"type":"text","value":";"}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Exemplo: "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"archive.nemo_action"}]}]},{"type":"element","tag":"code","props":{"code":"[Nemo Action]\nActive=true\nName=Archive %N\nComment=Archiving %N will add .archive to the object.\nExec=<archive.py %F>\nSelection=S\nExtensions=any;\n","language":"bash"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-346ef5"},"children":[{"type":"text","value":"[Nemo Action]"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-346ef5"},"children":[{"type":"text","value":"Active=true"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-346ef5"},"children":[{"type":"text","value":"Name=Archive %N"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-346ef5"},"children":[{"type":"text","value":"Comment=Archiving %N will add .archive to the object."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-346ef5"},"children":[{"type":"text","value":"Exec="}]},{"type":"element","tag":"span","props":{"class":"ct-930b41"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-346ef5"},"children":[{"type":"text","value":"archive.py %F"}]},{"type":"element","tag":"span","props":{"class":"ct-930b41"},"children":[{"type":"text","value":">"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-346ef5"},"children":[{"type":"text","value":"Selection=S"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-346ef5"},"children":[{"type":"text","value":"Extensions=any"}]},{"type":"element","tag":"span","props":{"class":"ct-930b41"},"children":[{"type":"text","value":";"}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Exemplo: "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"archive.py"}]}]},{"type":"element","tag":"code","props":{"code":"#! /usr/bin/python2 -OOt\nimport sys\nimport os\nimport shutil\nfilename = sys.argv[0]\nprint \"Running \" + filename\nprint \"With the following arguments:\"\nfor arg in sys.argv:\n    if filename == arg:\n        continue\n    else:\n        print arg\n        #os.rename('%s','%s.archive') % (arg,arg)\n        shutil.move(arg, arg+\".archive\")\n","language":"python"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"#! /usr/bin/python2 -OOt\nimport sys\nimport os\nimport shutil\nfilename = sys.argv[0]\nprint \"Running \" + filename\nprint \"With the following arguments:\"\nfor arg in sys.argv:\n    if filename == arg:\n        continue\n    else:\n        print arg\n        #os.rename('%s','%s.archive') % (arg,arg)\n        shutil.move(arg, arg+\".archive\")"}]}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"referências"},"children":[{"type":"text","value":"Referências"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://wiki.archlinux.org/index.php/Nemo","rel":["nofollow"]},"children":[{"type":"text","value":"Nemo wiki do archlinux"}]}]}]},{"type":"element","tag":"style","children":[{"type":"text","value":".ct-930b41{color:#F92672}.ct-321561{color:#E6DB74}.ct-346ef5{color:#F8F8F2}"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"instalando-o-nemo","depth":2,"text":"Instalando o nemo"},{"id":"nemo-como-gerenciador-padrão","depth":2,"text":"Nemo como gerenciador padrão"},{"id":"criando-novas-funções","depth":2,"text":"Criando novas funções"},{"id":"referências","depth":2,"text":"Referências"}]}},"_type":"markdown","_id":"content:til:gerenciador-de-arquivos.md","_source":"content","_file":"til/gerenciador-de-arquivos.md","_extension":"md"},{"_path":"/til/escolhendo-versoes-dos-pacotes-no-debian-e-ubuntu","_draft":false,"_partial":false,"_locale":"en","_empty":false,"title":"Escolhendo versões dos pacotes no Debian/Ubuntu","description":"Como misturar de forma saudável diferentes distribuições do Debian. Instale exatamente a versão do aplicativo que você quer sem bagunçar o sistema todo.","excerpt":{"type":"root","children":[{"type":"element","tag":"h2","props":{"id":"parte-1---regra-geral"},"children":[{"type":"text","value":"Parte 1 - Regra geral"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Antes de começar a escolher versões vamos estabelecer que todos os pacotes usarão a versão "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"stable"}]},{"type":"text","value":" por padrão."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"No arquivo "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"/etc/apt/preferences"}]},{"type":"text","value":" (que deve estar vazio inicialmente) acrescente as seguintes linhas:"}]},{"type":"element","tag":"code","props":{"code":"# Arquivo: /etc/apt/preferences\n\n# Todos os pacotes vem do stable por padrão\nPackage: *\nPin: release a=stable\nPin-Priority: 1001\n\nPackage: *\nPin: release a=testing\nPin-Priority: 650\n\nPackage: *\nPin: release a=unstable\nPin-Priority: 600\n","language":"bash"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"# Arquivo: /etc/apt/preferences\n\n# Todos os pacotes vem do stable por padrão\nPackage: *\nPin: release a=stable\nPin-Priority: 1001\n\nPackage: *\nPin: release a=testing\nPin-Priority: 650\n\nPackage: *\nPin: release a=unstable\nPin-Priority: 600\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"O valor acima de 1000 vai forçar os pacotes que foram instalados na mão usando outras versões a voltarem para o "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"stable"}]},{"type":"text","value":"."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Agora que já definimos uma REGRA GERAL podemos começar a definir as exceções à regra."}]},{"type":"element","tag":"h2","props":{"id":"parte-2---exceções-à-regra-geral"},"children":[{"type":"text","value":"Parte 2 - Exceções à regra geral"}]},{"type":"element","tag":"h3","props":{"id":"por-target"},"children":[{"type":"text","value":"Por target"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Para exemplo vamos escolher o pacote "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"hugo"}]},{"type":"text","value":" para este post.\nVocê pode usar este mesmo procedimento para qualquer pacote."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Se você acessar "},{"type":"element","tag":"a","props":{"href":"https://packages.debian.org/search?keywords=hugo","rel":["nofollow"]},"children":[{"type":"text","value":"https://packages.debian.org/search?keywords=hugo"}]},{"type":"text","value":" encontrará as seguintes versões:"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"stable 0.18.1"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"testing 0.55.6"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"unstable 0.55.6"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"binding","props":{"value":"< notice tip >"},"children":[]},{"type":"text","value":"\nCrie um arquivo dentro do diretório "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"/etc/apt/preferences.d/"}]},{"type":"text","value":" com o nome do\npacote que você quer especificar a versão. Pode ser qualquer nome aqui, mas\nusando o nome do pacote fica mais fácil de manter o sistema.\n"},{"type":"element","tag":"binding","props":{"value":"< /notice >"},"children":[]}]},{"type":"element","tag":"code","props":{"code":"# /etc/apt/preferences.d/hugo\nPackage: hugo\nPin: release a=testing\nPin-Priority: 1002\n","language":"bash"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"# /etc/apt/preferences.d/hugo\nPackage: hugo\nPin: release a=testing\nPin-Priority: 1002\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Observe que a prioridade precisa ser maior que a prioridade da regra padrão para funcionar."}]},{"type":"element","tag":"h3","props":{"id":"por-origem"},"children":[{"type":"text","value":"Por origem"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Ao instalar o pacote "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"nodejs"}]},{"type":"text","value":" a versão "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"4.8"}]},{"type":"text","value":" será instalada pois é a mais recente que está no repositório padrão."}]},{"type":"element","tag":"code","props":{"code":"apt install nodejs\n...\nObter:1 http://ftp.br.debian.org/debian stretch/main amd64 nodejs amd64 4.8.2~dfsg-1 [3.440 kB]\n...\n","language":"bash"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"apt install nodejs\n...\nObter:1 http://ftp.br.debian.org/debian stretch/main amd64 nodejs amd64 4.8.2~dfsg-1 [3.440 kB]\n...\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Para pegar a versão mais rescente do "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"nodejs"}]},{"type":"text","value":" diretamente do "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"deb.nodesource.com"}]},{"type":"text","value":" em vez do repositório padrão do Debian use:"}]},{"type":"element","tag":"code","props":{"code":"# /etc/apt/preferences.d/nodejs\nPackage: *\nPin: origin deb.nodesource.com\nPin-Priority: 1001\n","language":"bash"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"# /etc/apt/preferences.d/nodejs\nPackage: *\nPin: origin deb.nodesource.com\nPin-Priority: 1001\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Então basta executar o comando de instalação novamente para que o pacote seja atualizado para a versão "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"12"}]},{"type":"text","value":"."}]},{"type":"element","tag":"code","props":{"code":"apt update\napt install nodejs\n...\nObter:1 https://deb.nodesource.com/node_12.x stretch/main amd64 nodejs amd64 12.6.0-1nodesource1 [16,9 MB]\n...\n","language":"bash"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"apt update\napt install nodejs\n...\nObter:1 https://deb.nodesource.com/node_12.x stretch/main amd64 nodejs amd64 12.6.0-1nodesource1 [16,9 MB]\n...\n"}]}]}]},{"type":"element","tag":"h2","props":{"id":"parte-3---upgradedowngrade"},"children":[{"type":"text","value":"Parte 3 - Upgrade/Downgrade"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Agora que todas as nossas regras já estão definida basta atualizar que os pacotes vão para a versões escolhidas."}]},{"type":"element","tag":"code","props":{"code":"apt-get update\napt-get upgrade\napt-get dist-upgrade\n","language":"bash"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"apt-get update\napt-get upgrade\napt-get dist-upgrade\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Note que alguns pacotes podem sofrer downgrade nesta atualização."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Só para conferir que a versão escolhida foi realmente instalada:"}]},{"type":"element","tag":"code","props":{"code":"$ dpkg -l | grep hugo\nii  hugo 0.55.6+really0.54.0-1 amd64 Fast and flexible Static Site Generator written in Go\n","language":"text"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"$ dpkg -l | grep hugo\nii  hugo 0.55.6+really0.54.0-1 amd64 Fast and flexible Static Site Generator written in Go\n"}]}]}]},{"type":"element","tag":"h2","props":{"id":"entendendo-os-valores-das-prioridades"},"children":[{"type":"text","value":"Entendendo os valores das prioridades"}]},{"type":"element","tag":"h3","props":{"id":"p--1000"},"children":[{"type":"text","value":"P > 1000"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Instala mesmo que precise baixar a versão de algum pacote já instalado.\nSomente prioridades acima de 1000 permitem downgrade."}]},{"type":"element","tag":"h3","props":{"id":"990--p--1000"},"children":[{"type":"text","value":"990 < P <= 1000"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Instala somente se uma versão maior estiver disponível no "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"target release"}]},{"type":"text","value":" (Ver variáel APT::Default-Release para detalhes).\nNão permite downgrade de pacote instalado."}]},{"type":"element","tag":"h3","props":{"id":"500--p--990"},"children":[{"type":"text","value":"500 < P <= 990"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Instala somente se uma versão maior estiver disponível no "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"target release"}]},{"type":"text","value":" (Ver variáel APT::Default-Release para detalhes)."}]},{"type":"element","tag":"h3","props":{"id":"100--p--500"},"children":[{"type":"text","value":"100 < P <= 500"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Utilizado como predefinição para os arquivos NotAutomatic e ButAutomaticUpgrades"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Instala a menos que exista uma versão disponível em outra distribuição ou se a versão instalada for mais recente."}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"causes a version to be installed unless there is a version available\nbelonging to some other distribution or the installed version is more recent"}]}]},{"type":"element","tag":"h3","props":{"id":"0--p--100"},"children":[{"type":"text","value":"0 < P <= 100"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Instala somente se não possuir versão instalada do pacote."}]},{"type":"element","tag":"h3","props":{"id":"p--1"},"children":[{"type":"text","value":"P == 1"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Valor padrão para NotAutomatic"}]},{"type":"element","tag":"h3","props":{"id":"p--0"},"children":[{"type":"text","value":"P < 0"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Nunca instala o pacote mesmo que o pacote seja recomendado."}]}]},"date":"2019-07-02T00:00:00.000Z","draft":false,"tags":["sysadmin","linux","debian","ubuntu","hugo","apt"],"Thumbnail":"img/headers/debian-ubuntu.jpg","body":{"type":"root","children":[{"type":"element","tag":"h2","props":{"id":"parte-1---regra-geral"},"children":[{"type":"text","value":"Parte 1 - Regra geral"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Antes de começar a escolher versões vamos estabelecer que todos os pacotes usarão a versão "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"stable"}]},{"type":"text","value":" por padrão."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"No arquivo "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"/etc/apt/preferences"}]},{"type":"text","value":" (que deve estar vazio inicialmente) acrescente as seguintes linhas:"}]},{"type":"element","tag":"code","props":{"code":"# Arquivo: /etc/apt/preferences\n\n# Todos os pacotes vem do stable por padrão\nPackage: *\nPin: release a=stable\nPin-Priority: 1001\n\nPackage: *\nPin: release a=testing\nPin-Priority: 650\n\nPackage: *\nPin: release a=unstable\nPin-Priority: 600\n","language":"bash"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-070979"},"children":[{"type":"text","value":"# Arquivo: /etc/apt/preferences"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-070979"},"children":[{"type":"text","value":"# Todos os pacotes vem do stable por padrão"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-1fd3cc"},"children":[{"type":"text","value":"Package: "}]},{"type":"element","tag":"span","props":{"class":"ct-85d481"},"children":[{"type":"text","value":"*"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-1fd3cc"},"children":[{"type":"text","value":"Pin: release a=stable"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-1fd3cc"},"children":[{"type":"text","value":"Pin-Priority: 1001"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-1fd3cc"},"children":[{"type":"text","value":"Package: "}]},{"type":"element","tag":"span","props":{"class":"ct-85d481"},"children":[{"type":"text","value":"*"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-1fd3cc"},"children":[{"type":"text","value":"Pin: release a=testing"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-1fd3cc"},"children":[{"type":"text","value":"Pin-Priority: 650"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-1fd3cc"},"children":[{"type":"text","value":"Package: "}]},{"type":"element","tag":"span","props":{"class":"ct-85d481"},"children":[{"type":"text","value":"*"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-1fd3cc"},"children":[{"type":"text","value":"Pin: release a=unstable"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-1fd3cc"},"children":[{"type":"text","value":"Pin-Priority: 600"}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"O valor acima de 1000 vai forçar os pacotes que foram instalados na mão usando outras versões a voltarem para o "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"stable"}]},{"type":"text","value":"."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Agora que já definimos uma REGRA GERAL podemos começar a definir as exceções à regra."}]},{"type":"element","tag":"h2","props":{"id":"parte-2---exceções-à-regra-geral"},"children":[{"type":"text","value":"Parte 2 - Exceções à regra geral"}]},{"type":"element","tag":"h3","props":{"id":"por-target"},"children":[{"type":"text","value":"Por target"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Para exemplo vamos escolher o pacote "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"hugo"}]},{"type":"text","value":" para este post.\nVocê pode usar este mesmo procedimento para qualquer pacote."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Se você acessar "},{"type":"element","tag":"a","props":{"href":"https://packages.debian.org/search?keywords=hugo","rel":["nofollow"]},"children":[{"type":"text","value":"https://packages.debian.org/search?keywords=hugo"}]},{"type":"text","value":" encontrará as seguintes versões:"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"stable 0.18.1"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"testing 0.55.6"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"unstable 0.55.6"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"binding","props":{"value":"< notice tip >"},"children":[]},{"type":"text","value":"\nCrie um arquivo dentro do diretório "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"/etc/apt/preferences.d/"}]},{"type":"text","value":" com o nome do\npacote que você quer especificar a versão. Pode ser qualquer nome aqui, mas\nusando o nome do pacote fica mais fácil de manter o sistema.\n"},{"type":"element","tag":"binding","props":{"value":"< /notice >"},"children":[]}]},{"type":"element","tag":"code","props":{"code":"# /etc/apt/preferences.d/hugo\nPackage: hugo\nPin: release a=testing\nPin-Priority: 1002\n","language":"bash"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-070979"},"children":[{"type":"text","value":"# /etc/apt/preferences.d/hugo"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-1fd3cc"},"children":[{"type":"text","value":"Package: hugo"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-1fd3cc"},"children":[{"type":"text","value":"Pin: release a=testing"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-1fd3cc"},"children":[{"type":"text","value":"Pin-Priority: 1002"}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Observe que a prioridade precisa ser maior que a prioridade da regra padrão para funcionar."}]},{"type":"element","tag":"h3","props":{"id":"por-origem"},"children":[{"type":"text","value":"Por origem"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Ao instalar o pacote "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"nodejs"}]},{"type":"text","value":" a versão "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"4.8"}]},{"type":"text","value":" será instalada pois é a mais recente que está no repositório padrão."}]},{"type":"element","tag":"code","props":{"code":"apt install nodejs\n...\nObter:1 http://ftp.br.debian.org/debian stretch/main amd64 nodejs amd64 4.8.2~dfsg-1 [3.440 kB]\n...\n","language":"bash"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-1fd3cc"},"children":[{"type":"text","value":"apt install nodejs"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-1fd3cc"},"children":[{"type":"text","value":"..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-1fd3cc"},"children":[{"type":"text","value":"Obter:1 http://ftp.br.debian.org/debian stretch/main amd64 nodejs amd64 4.8.2~dfsg-1 [3.440 kB]"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-1fd3cc"},"children":[{"type":"text","value":"..."}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Para pegar a versão mais rescente do "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"nodejs"}]},{"type":"text","value":" diretamente do "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"deb.nodesource.com"}]},{"type":"text","value":" em vez do repositório padrão do Debian use:"}]},{"type":"element","tag":"code","props":{"code":"# /etc/apt/preferences.d/nodejs\nPackage: *\nPin: origin deb.nodesource.com\nPin-Priority: 1001\n","language":"bash"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-070979"},"children":[{"type":"text","value":"# /etc/apt/preferences.d/nodejs"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-1fd3cc"},"children":[{"type":"text","value":"Package: "}]},{"type":"element","tag":"span","props":{"class":"ct-85d481"},"children":[{"type":"text","value":"*"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-1fd3cc"},"children":[{"type":"text","value":"Pin: origin deb.nodesource.com"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-1fd3cc"},"children":[{"type":"text","value":"Pin-Priority: 1001"}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Então basta executar o comando de instalação novamente para que o pacote seja atualizado para a versão "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"12"}]},{"type":"text","value":"."}]},{"type":"element","tag":"code","props":{"code":"apt update\napt install nodejs\n...\nObter:1 https://deb.nodesource.com/node_12.x stretch/main amd64 nodejs amd64 12.6.0-1nodesource1 [16,9 MB]\n...\n","language":"bash"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-1fd3cc"},"children":[{"type":"text","value":"apt update"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-1fd3cc"},"children":[{"type":"text","value":"apt install nodejs"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-1fd3cc"},"children":[{"type":"text","value":"..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-1fd3cc"},"children":[{"type":"text","value":"Obter:1 https://deb.nodesource.com/node_12.x stretch/main amd64 nodejs amd64 12.6.0-1nodesource1 [16,9 MB]"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-1fd3cc"},"children":[{"type":"text","value":"..."}]}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"parte-3---upgradedowngrade"},"children":[{"type":"text","value":"Parte 3 - Upgrade/Downgrade"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Agora que todas as nossas regras já estão definida basta atualizar que os pacotes vão para a versões escolhidas."}]},{"type":"element","tag":"code","props":{"code":"apt-get update\napt-get upgrade\napt-get dist-upgrade\n","language":"bash"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-1fd3cc"},"children":[{"type":"text","value":"apt-get update"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-1fd3cc"},"children":[{"type":"text","value":"apt-get upgrade"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-1fd3cc"},"children":[{"type":"text","value":"apt-get dist-upgrade"}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Note que alguns pacotes podem sofrer downgrade nesta atualização."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Só para conferir que a versão escolhida foi realmente instalada:"}]},{"type":"element","tag":"code","props":{"code":"$ dpkg -l | grep hugo\nii  hugo 0.55.6+really0.54.0-1 amd64 Fast and flexible Static Site Generator written in Go\n","language":"text"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"$ dpkg -l | grep hugo\nii  hugo 0.55.6+really0.54.0-1 amd64 Fast and flexible Static Site Generator written in Go"}]}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"entendendo-os-valores-das-prioridades"},"children":[{"type":"text","value":"Entendendo os valores das prioridades"}]},{"type":"element","tag":"h3","props":{"id":"p--1000"},"children":[{"type":"text","value":"P > 1000"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Instala mesmo que precise baixar a versão de algum pacote já instalado.\nSomente prioridades acima de 1000 permitem downgrade."}]},{"type":"element","tag":"h3","props":{"id":"990--p--1000"},"children":[{"type":"text","value":"990 < P <= 1000"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Instala somente se uma versão maior estiver disponível no "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"target release"}]},{"type":"text","value":" (Ver variáel APT::Default-Release para detalhes).\nNão permite downgrade de pacote instalado."}]},{"type":"element","tag":"h3","props":{"id":"500--p--990"},"children":[{"type":"text","value":"500 < P <= 990"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Instala somente se uma versão maior estiver disponível no "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"target release"}]},{"type":"text","value":" (Ver variáel APT::Default-Release para detalhes)."}]},{"type":"element","tag":"h3","props":{"id":"100--p--500"},"children":[{"type":"text","value":"100 < P <= 500"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Utilizado como predefinição para os arquivos NotAutomatic e ButAutomaticUpgrades"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Instala a menos que exista uma versão disponível em outra distribuição ou se a versão instalada for mais recente."}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"causes a version to be installed unless there is a version available\nbelonging to some other distribution or the installed version is more recent"}]}]},{"type":"element","tag":"h3","props":{"id":"0--p--100"},"children":[{"type":"text","value":"0 < P <= 100"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Instala somente se não possuir versão instalada do pacote."}]},{"type":"element","tag":"h3","props":{"id":"p--1"},"children":[{"type":"text","value":"P == 1"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Valor padrão para NotAutomatic"}]},{"type":"element","tag":"h3","props":{"id":"p--0"},"children":[{"type":"text","value":"P < 0"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Nunca instala o pacote mesmo que o pacote seja recomendado."}]},{"type":"element","tag":"style","children":[{"type":"text","value":".ct-85d481{color:#F92672}.ct-1fd3cc{color:#F8F8F2}.ct-070979{color:#88846F}"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"parte-1---regra-geral","depth":2,"text":"Parte 1 - Regra geral"},{"id":"parte-2---exceções-à-regra-geral","depth":2,"text":"Parte 2 - Exceções à regra geral","children":[{"id":"por-target","depth":3,"text":"Por target"},{"id":"por-origem","depth":3,"text":"Por origem"}]},{"id":"parte-3---upgradedowngrade","depth":2,"text":"Parte 3 - Upgrade/Downgrade"},{"id":"entendendo-os-valores-das-prioridades","depth":2,"text":"Entendendo os valores das prioridades","children":[{"id":"p--1000","depth":3,"text":"P > 1000"},{"id":"990--p--1000","depth":3,"text":"990 < P <= 1000"},{"id":"500--p--990","depth":3,"text":"500 < P <= 990"},{"id":"100--p--500","depth":3,"text":"100 < P <= 500"},{"id":"0--p--100","depth":3,"text":"0 < P <= 100"},{"id":"p--1","depth":3,"text":"P == 1"},{"id":"p--0","depth":3,"text":"P < 0"}]}]}},"_type":"markdown","_id":"content:til:escolhendo-versoes-dos-pacotes-no-debian-e-ubuntu.md","_source":"content","_file":"til/escolhendo-versoes-dos-pacotes-no-debian-e-ubuntu.md","_extension":"md"},{"_path":"/til/como-trocar-hostname-sem-reiniciar","_draft":false,"_partial":false,"_locale":"en","_empty":false,"title":"Como trocar o nome do servidor sem reiniciar","description":"Como um Administrador de Sistemas, as vezes, você precisa alterar\no nome da máquina. Seja porque digitou o nome errado durante a\ninstalação, ou se a política de nomes da empresa mudou ou se o nome já estava\nsendo utilizado por outra máquina.","excerpt":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Como um "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Administrador de Sistemas"}]},{"type":"text","value":", as vezes, você precisa alterar\no nome da máquina. Seja porque digitou o nome errado durante a\ninstalação, ou se a política de nomes da empresa mudou ou se o nome já estava\nsendo utilizado por outra máquina."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Nota:"}]},{"type":"text","value":" O procedimento que veremos a seguir vale para as distribuições Linux\nderivadas do "},{"type":"element","tag":"a","props":{"href":"https://www.debian.org","rel":["nofollow"]},"children":[{"type":"text","value":"Debian"}]},{"type":"text","value":", tais como\n"},{"type":"element","tag":"a","props":{"href":"https://linuxmint.com","rel":["nofollow"]},"children":[{"type":"text","value":"Mint"}]},{"type":"text","value":", "},{"type":"element","tag":"a","props":{"href":"https://www.ubuntu.com","rel":["nofollow"]},"children":[{"type":"text","value":"Ubuntu"}]},{"type":"text","value":", e outras 130\n(segundo o "},{"type":"element","tag":"a","props":{"href":"https://distrowatch.com/search.php?basedon=Debian","rel":["nofollow"]},"children":[{"type":"text","value":"distrowatch"}]},{"type":"text","value":")."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"O arquivo de sistema que guarda o nome da máquina para ser usado a cada boot\né o "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"/etc/hostname"}]},{"type":"text","value":", então basta trocar seu conteúdo que no "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"próximo boot"}]},{"type":"text","value":"\na máquina terá outro nome."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Uma opção bem simples de edição, já que o conteúdo deste arquivo é somente uma\npalavra, é enviar através do comando "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"echo"}]},{"type":"text","value":" o novo nome para o arquivo "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"/etc/hostname"}]},{"type":"text","value":":"}]},{"type":"element","tag":"code","props":{"code":"echo \"novo-nome\" > /etc/hostname\n","language":"bash"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"echo \"novo-nome\" > /etc/hostname\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Para o próximo boot está tudo OK!"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Se verificarmos a configuração a com o comando "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"hostname"}]},{"type":"text","value":" veremos que ainda\nmostra o nome antigo. Mas a máquina já está rodando e não posso parar os\nserviços agora para fazer o reboot, então precisamos alterar o "},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"kernel"}]},{"type":"text","value":" em execução."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Sem pânico! Felizmente existe um modo muito\nsimple editar variáveis do "},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"kernel"}]},{"type":"text","value":". Ele expõe muitas de suas configurações\natravés de um "},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"sistema de arquivos"}]},{"type":"text","value":" montado em "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"/proc/sys/kernel"}]},{"type":"text","value":". Vamos usar\no mesmo comando "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"echo"}]},{"type":"text","value":" para alterar o arquivo "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"/proc/sys/kernel/hostname"}]},{"type":"text","value":"."}]},{"type":"element","tag":"code","props":{"code":"echo \"novo-nome\" > /proc/sys/kernel/hostname\n","language":"bash"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"echo \"novo-nome\" > /proc/sys/kernel/hostname\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Agora se lançarmos o comando "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"hostname"}]},{"type":"text","value":" novamente veremos o novo nome e sem que seja\npreciso reiniciar a máquina."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Verifique se no arquivo "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"/etc/hosts"}]},{"type":"text","value":" não existe nenhuma menção ao antigo nome,\nse existir atualize este arquivo. Para atualizar o "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"/etc/hosts"}]},{"type":"text","value":" pela linha de\ncomando faça o seguinte:"}]},{"type":"element","tag":"code","props":{"code":"sed -i \"s/antigo-nome/novo-nome/g\" /etc/hosts\n","language":"bash"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"sed -i \"s/antigo-nome/novo-nome/g\" /etc/hosts\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"O "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"sed"}]},{"type":"text","value":" é um editor de fluxo de texto que utiliza expressões regulares para editar textos de forma automatizada.\nUma explicação muito breve sobre o comando acima:"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"-i"}]},{"type":"text","value":": modo de edição "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"inline"}]},{"type":"text","value":" (abre, edita e fecha o arquivo)"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"s"}]},{"type":"text","value":": comando de substituição no formato "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"/de/para/"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"g"}]},{"type":"text","value":": substitui todas as ocorrências de "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"antigo-nome"}]},{"type":"text","value":" por "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"novo-nome"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"binding","props":{"value":"< comment >"},"children":[]},{"type":"text","value":"\nThis is a comment that will not be rendered."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"binding","props":{"value":"< /comment >"},"children":[]}]}]},"date":"2017-10-22T13:21:50.000Z","draft":false,"tags":["sysadmin","linux","debian","hostname"],"Thumbnail":"img/headers/sysadmin.jpg","body":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Como um "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Administrador de Sistemas"}]},{"type":"text","value":", as vezes, você precisa alterar\no nome da máquina. Seja porque digitou o nome errado durante a\ninstalação, ou se a política de nomes da empresa mudou ou se o nome já estava\nsendo utilizado por outra máquina."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Nota:"}]},{"type":"text","value":" O procedimento que veremos a seguir vale para as distribuições Linux\nderivadas do "},{"type":"element","tag":"a","props":{"href":"https://www.debian.org","rel":["nofollow"]},"children":[{"type":"text","value":"Debian"}]},{"type":"text","value":", tais como\n"},{"type":"element","tag":"a","props":{"href":"https://linuxmint.com","rel":["nofollow"]},"children":[{"type":"text","value":"Mint"}]},{"type":"text","value":", "},{"type":"element","tag":"a","props":{"href":"https://www.ubuntu.com","rel":["nofollow"]},"children":[{"type":"text","value":"Ubuntu"}]},{"type":"text","value":", e outras 130\n(segundo o "},{"type":"element","tag":"a","props":{"href":"https://distrowatch.com/search.php?basedon=Debian","rel":["nofollow"]},"children":[{"type":"text","value":"distrowatch"}]},{"type":"text","value":")."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"O arquivo de sistema que guarda o nome da máquina para ser usado a cada boot\né o "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"/etc/hostname"}]},{"type":"text","value":", então basta trocar seu conteúdo que no "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"próximo boot"}]},{"type":"text","value":"\na máquina terá outro nome."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Uma opção bem simples de edição, já que o conteúdo deste arquivo é somente uma\npalavra, é enviar através do comando "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"echo"}]},{"type":"text","value":" o novo nome para o arquivo "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"/etc/hostname"}]},{"type":"text","value":":"}]},{"type":"element","tag":"code","props":{"code":"echo \"novo-nome\" > /etc/hostname\n","language":"bash"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-9ffc94"},"children":[{"type":"text","value":"echo"}]},{"type":"element","tag":"span","props":{"class":"ct-e67dd6"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-945bd7"},"children":[{"type":"text","value":"\"novo-nome\""}]},{"type":"element","tag":"span","props":{"class":"ct-e67dd6"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-a7a50f"},"children":[{"type":"text","value":">"}]},{"type":"element","tag":"span","props":{"class":"ct-e67dd6"},"children":[{"type":"text","value":" /etc/hostname"}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Para o próximo boot está tudo OK!"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Se verificarmos a configuração a com o comando "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"hostname"}]},{"type":"text","value":" veremos que ainda\nmostra o nome antigo. Mas a máquina já está rodando e não posso parar os\nserviços agora para fazer o reboot, então precisamos alterar o "},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"kernel"}]},{"type":"text","value":" em execução."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Sem pânico! Felizmente existe um modo muito\nsimple editar variáveis do "},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"kernel"}]},{"type":"text","value":". Ele expõe muitas de suas configurações\natravés de um "},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"sistema de arquivos"}]},{"type":"text","value":" montado em "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"/proc/sys/kernel"}]},{"type":"text","value":". Vamos usar\no mesmo comando "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"echo"}]},{"type":"text","value":" para alterar o arquivo "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"/proc/sys/kernel/hostname"}]},{"type":"text","value":"."}]},{"type":"element","tag":"code","props":{"code":"echo \"novo-nome\" > /proc/sys/kernel/hostname\n","language":"bash"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-9ffc94"},"children":[{"type":"text","value":"echo"}]},{"type":"element","tag":"span","props":{"class":"ct-e67dd6"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-945bd7"},"children":[{"type":"text","value":"\"novo-nome\""}]},{"type":"element","tag":"span","props":{"class":"ct-e67dd6"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-a7a50f"},"children":[{"type":"text","value":">"}]},{"type":"element","tag":"span","props":{"class":"ct-e67dd6"},"children":[{"type":"text","value":" /proc/sys/kernel/hostname"}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Agora se lançarmos o comando "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"hostname"}]},{"type":"text","value":" novamente veremos o novo nome e sem que seja\npreciso reiniciar a máquina."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Verifique se no arquivo "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"/etc/hosts"}]},{"type":"text","value":" não existe nenhuma menção ao antigo nome,\nse existir atualize este arquivo. Para atualizar o "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"/etc/hosts"}]},{"type":"text","value":" pela linha de\ncomando faça o seguinte:"}]},{"type":"element","tag":"code","props":{"code":"sed -i \"s/antigo-nome/novo-nome/g\" /etc/hosts\n","language":"bash"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-e67dd6"},"children":[{"type":"text","value":"sed -i "}]},{"type":"element","tag":"span","props":{"class":"ct-945bd7"},"children":[{"type":"text","value":"\"s/antigo-nome/novo-nome/g\""}]},{"type":"element","tag":"span","props":{"class":"ct-e67dd6"},"children":[{"type":"text","value":" /etc/hosts"}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"O "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"sed"}]},{"type":"text","value":" é um editor de fluxo de texto que utiliza expressões regulares para editar textos de forma automatizada.\nUma explicação muito breve sobre o comando acima:"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"-i"}]},{"type":"text","value":": modo de edição "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"inline"}]},{"type":"text","value":" (abre, edita e fecha o arquivo)"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"s"}]},{"type":"text","value":": comando de substituição no formato "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"/de/para/"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"g"}]},{"type":"text","value":": substitui todas as ocorrências de "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"antigo-nome"}]},{"type":"text","value":" por "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"novo-nome"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"binding","props":{"value":"< comment >"},"children":[]},{"type":"text","value":"\nThis is a comment that will not be rendered."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"binding","props":{"value":"< /comment >"},"children":[]}]},{"type":"element","tag":"style","children":[{"type":"text","value":".ct-a7a50f{color:#F92672}.ct-945bd7{color:#E6DB74}.ct-e67dd6{color:#F8F8F2}.ct-9ffc94{color:#66D9EF}"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[]}},"_type":"markdown","_id":"content:til:como-trocar-hostname-sem-reiniciar.md","_source":"content","_file":"til/como-trocar-hostname-sem-reiniciar.md","_extension":"md"}]