[{"_path":"/til/escolhendo-versoes-dos-pacotes-no-debian-e-ubuntu","_draft":false,"_partial":false,"_locale":"en","_empty":false,"title":"Escolhendo versões dos pacotes no Debian/Ubuntu","description":"Como misturar de forma saudável diferentes distribuições do Debian. Instale exatamente a versão do aplicativo que você quer sem bagunçar o sistema todo.","excerpt":{"type":"root","children":[{"type":"element","tag":"h2","props":{"id":"parte-1---regra-geral"},"children":[{"type":"text","value":"Parte 1 - Regra geral"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Antes de começar a escolher versões vamos estabelecer que todos os pacotes usarão a versão "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"stable"}]},{"type":"text","value":" por padrão."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"No arquivo "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"/etc/apt/preferences"}]},{"type":"text","value":" (que deve estar vazio inicialmente) acrescente as seguintes linhas:"}]},{"type":"element","tag":"code","props":{"code":"# Arquivo: /etc/apt/preferences\n\n# Todos os pacotes vem do stable por padrão\nPackage: *\nPin: release a=stable\nPin-Priority: 1001\n\nPackage: *\nPin: release a=testing\nPin-Priority: 650\n\nPackage: *\nPin: release a=unstable\nPin-Priority: 600\n","language":"bash"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"# Arquivo: /etc/apt/preferences\n\n# Todos os pacotes vem do stable por padrão\nPackage: *\nPin: release a=stable\nPin-Priority: 1001\n\nPackage: *\nPin: release a=testing\nPin-Priority: 650\n\nPackage: *\nPin: release a=unstable\nPin-Priority: 600\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"O valor acima de 1000 vai forçar os pacotes que foram instalados na mão usando outras versões a voltarem para o "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"stable"}]},{"type":"text","value":"."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Agora que já definimos uma REGRA GERAL podemos começar a definir as exceções à regra."}]},{"type":"element","tag":"h2","props":{"id":"parte-2---exceções-à-regra-geral"},"children":[{"type":"text","value":"Parte 2 - Exceções à regra geral"}]},{"type":"element","tag":"h3","props":{"id":"por-target"},"children":[{"type":"text","value":"Por target"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Para exemplo vamos escolher o pacote "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"hugo"}]},{"type":"text","value":" para este post.\nVocê pode usar este mesmo procedimento para qualquer pacote."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Se você acessar "},{"type":"element","tag":"a","props":{"href":"https://packages.debian.org/search?keywords=hugo","rel":["nofollow"]},"children":[{"type":"text","value":"https://packages.debian.org/search?keywords=hugo"}]},{"type":"text","value":" encontrará as seguintes versões:"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"stable 0.18.1"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"testing 0.55.6"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"unstable 0.55.6"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"binding","props":{"value":"< notice tip >"},"children":[]},{"type":"text","value":"\nCrie um arquivo dentro do diretório "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"/etc/apt/preferences.d/"}]},{"type":"text","value":" com o nome do\npacote que você quer especificar a versão. Pode ser qualquer nome aqui, mas\nusando o nome do pacote fica mais fácil de manter o sistema.\n"},{"type":"element","tag":"binding","props":{"value":"< /notice >"},"children":[]}]},{"type":"element","tag":"code","props":{"code":"# /etc/apt/preferences.d/hugo\nPackage: hugo\nPin: release a=testing\nPin-Priority: 1002\n","language":"bash"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"# /etc/apt/preferences.d/hugo\nPackage: hugo\nPin: release a=testing\nPin-Priority: 1002\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Observe que a prioridade precisa ser maior que a prioridade da regra padrão para funcionar."}]},{"type":"element","tag":"h3","props":{"id":"por-origem"},"children":[{"type":"text","value":"Por origem"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Ao instalar o pacote "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"nodejs"}]},{"type":"text","value":" a versão "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"4.8"}]},{"type":"text","value":" será instalada pois é a mais recente que está no repositório padrão."}]},{"type":"element","tag":"code","props":{"code":"apt install nodejs\n...\nObter:1 http://ftp.br.debian.org/debian stretch/main amd64 nodejs amd64 4.8.2~dfsg-1 [3.440 kB]\n...\n","language":"bash"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"apt install nodejs\n...\nObter:1 http://ftp.br.debian.org/debian stretch/main amd64 nodejs amd64 4.8.2~dfsg-1 [3.440 kB]\n...\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Para pegar a versão mais rescente do "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"nodejs"}]},{"type":"text","value":" diretamente do "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"deb.nodesource.com"}]},{"type":"text","value":" em vez do repositório padrão do Debian use:"}]},{"type":"element","tag":"code","props":{"code":"# /etc/apt/preferences.d/nodejs\nPackage: *\nPin: origin deb.nodesource.com\nPin-Priority: 1001\n","language":"bash"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"# /etc/apt/preferences.d/nodejs\nPackage: *\nPin: origin deb.nodesource.com\nPin-Priority: 1001\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Então basta executar o comando de instalação novamente para que o pacote seja atualizado para a versão "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"12"}]},{"type":"text","value":"."}]},{"type":"element","tag":"code","props":{"code":"apt update\napt install nodejs\n...\nObter:1 https://deb.nodesource.com/node_12.x stretch/main amd64 nodejs amd64 12.6.0-1nodesource1 [16,9 MB]\n...\n","language":"bash"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"apt update\napt install nodejs\n...\nObter:1 https://deb.nodesource.com/node_12.x stretch/main amd64 nodejs amd64 12.6.0-1nodesource1 [16,9 MB]\n...\n"}]}]}]},{"type":"element","tag":"h2","props":{"id":"parte-3---upgradedowngrade"},"children":[{"type":"text","value":"Parte 3 - Upgrade/Downgrade"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Agora que todas as nossas regras já estão definida basta atualizar que os pacotes vão para a versões escolhidas."}]},{"type":"element","tag":"code","props":{"code":"apt-get update\napt-get upgrade\napt-get dist-upgrade\n","language":"bash"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"apt-get update\napt-get upgrade\napt-get dist-upgrade\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Note que alguns pacotes podem sofrer downgrade nesta atualização."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Só para conferir que a versão escolhida foi realmente instalada:"}]},{"type":"element","tag":"code","props":{"code":"$ dpkg -l | grep hugo\nii  hugo 0.55.6+really0.54.0-1 amd64 Fast and flexible Static Site Generator written in Go\n","language":"text"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"$ dpkg -l | grep hugo\nii  hugo 0.55.6+really0.54.0-1 amd64 Fast and flexible Static Site Generator written in Go\n"}]}]}]},{"type":"element","tag":"h2","props":{"id":"entendendo-os-valores-das-prioridades"},"children":[{"type":"text","value":"Entendendo os valores das prioridades"}]},{"type":"element","tag":"h3","props":{"id":"p--1000"},"children":[{"type":"text","value":"P > 1000"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Instala mesmo que precise baixar a versão de algum pacote já instalado.\nSomente prioridades acima de 1000 permitem downgrade."}]},{"type":"element","tag":"h3","props":{"id":"990--p--1000"},"children":[{"type":"text","value":"990 < P <= 1000"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Instala somente se uma versão maior estiver disponível no "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"target release"}]},{"type":"text","value":" (Ver variáel APT::Default-Release para detalhes).\nNão permite downgrade de pacote instalado."}]},{"type":"element","tag":"h3","props":{"id":"500--p--990"},"children":[{"type":"text","value":"500 < P <= 990"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Instala somente se uma versão maior estiver disponível no "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"target release"}]},{"type":"text","value":" (Ver variáel APT::Default-Release para detalhes)."}]},{"type":"element","tag":"h3","props":{"id":"100--p--500"},"children":[{"type":"text","value":"100 < P <= 500"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Utilizado como predefinição para os arquivos NotAutomatic e ButAutomaticUpgrades"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Instala a menos que exista uma versão disponível em outra distribuição ou se a versão instalada for mais recente."}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"causes a version to be installed unless there is a version available\nbelonging to some other distribution or the installed version is more recent"}]}]},{"type":"element","tag":"h3","props":{"id":"0--p--100"},"children":[{"type":"text","value":"0 < P <= 100"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Instala somente se não possuir versão instalada do pacote."}]},{"type":"element","tag":"h3","props":{"id":"p--1"},"children":[{"type":"text","value":"P == 1"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Valor padrão para NotAutomatic"}]},{"type":"element","tag":"h3","props":{"id":"p--0"},"children":[{"type":"text","value":"P < 0"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Nunca instala o pacote mesmo que o pacote seja recomendado."}]}]},"date":"2019-07-02T00:00:00.000Z","draft":false,"tags":["sysadmin","linux","debian","ubuntu","hugo","apt"],"Thumbnail":"img/headers/debian-ubuntu.jpg","body":{"type":"root","children":[{"type":"element","tag":"h2","props":{"id":"parte-1---regra-geral"},"children":[{"type":"text","value":"Parte 1 - Regra geral"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Antes de começar a escolher versões vamos estabelecer que todos os pacotes usarão a versão "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"stable"}]},{"type":"text","value":" por padrão."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"No arquivo "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"/etc/apt/preferences"}]},{"type":"text","value":" (que deve estar vazio inicialmente) acrescente as seguintes linhas:"}]},{"type":"element","tag":"code","props":{"code":"# Arquivo: /etc/apt/preferences\n\n# Todos os pacotes vem do stable por padrão\nPackage: *\nPin: release a=stable\nPin-Priority: 1001\n\nPackage: *\nPin: release a=testing\nPin-Priority: 650\n\nPackage: *\nPin: release a=unstable\nPin-Priority: 600\n","language":"bash"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-705ad0"},"children":[{"type":"text","value":"# Arquivo: /etc/apt/preferences"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-705ad0"},"children":[{"type":"text","value":"# Todos os pacotes vem do stable por padrão"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-56e95e"},"children":[{"type":"text","value":"Package: "}]},{"type":"element","tag":"span","props":{"class":"ct-ac2ed9"},"children":[{"type":"text","value":"*"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-56e95e"},"children":[{"type":"text","value":"Pin: release a=stable"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-56e95e"},"children":[{"type":"text","value":"Pin-Priority: 1001"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-56e95e"},"children":[{"type":"text","value":"Package: "}]},{"type":"element","tag":"span","props":{"class":"ct-ac2ed9"},"children":[{"type":"text","value":"*"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-56e95e"},"children":[{"type":"text","value":"Pin: release a=testing"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-56e95e"},"children":[{"type":"text","value":"Pin-Priority: 650"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-56e95e"},"children":[{"type":"text","value":"Package: "}]},{"type":"element","tag":"span","props":{"class":"ct-ac2ed9"},"children":[{"type":"text","value":"*"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-56e95e"},"children":[{"type":"text","value":"Pin: release a=unstable"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-56e95e"},"children":[{"type":"text","value":"Pin-Priority: 600"}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"O valor acima de 1000 vai forçar os pacotes que foram instalados na mão usando outras versões a voltarem para o "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"stable"}]},{"type":"text","value":"."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Agora que já definimos uma REGRA GERAL podemos começar a definir as exceções à regra."}]},{"type":"element","tag":"h2","props":{"id":"parte-2---exceções-à-regra-geral"},"children":[{"type":"text","value":"Parte 2 - Exceções à regra geral"}]},{"type":"element","tag":"h3","props":{"id":"por-target"},"children":[{"type":"text","value":"Por target"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Para exemplo vamos escolher o pacote "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"hugo"}]},{"type":"text","value":" para este post.\nVocê pode usar este mesmo procedimento para qualquer pacote."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Se você acessar "},{"type":"element","tag":"a","props":{"href":"https://packages.debian.org/search?keywords=hugo","rel":["nofollow"]},"children":[{"type":"text","value":"https://packages.debian.org/search?keywords=hugo"}]},{"type":"text","value":" encontrará as seguintes versões:"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"stable 0.18.1"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"testing 0.55.6"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"unstable 0.55.6"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"binding","props":{"value":"< notice tip >"},"children":[]},{"type":"text","value":"\nCrie um arquivo dentro do diretório "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"/etc/apt/preferences.d/"}]},{"type":"text","value":" com o nome do\npacote que você quer especificar a versão. Pode ser qualquer nome aqui, mas\nusando o nome do pacote fica mais fácil de manter o sistema.\n"},{"type":"element","tag":"binding","props":{"value":"< /notice >"},"children":[]}]},{"type":"element","tag":"code","props":{"code":"# /etc/apt/preferences.d/hugo\nPackage: hugo\nPin: release a=testing\nPin-Priority: 1002\n","language":"bash"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-705ad0"},"children":[{"type":"text","value":"# /etc/apt/preferences.d/hugo"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-56e95e"},"children":[{"type":"text","value":"Package: hugo"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-56e95e"},"children":[{"type":"text","value":"Pin: release a=testing"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-56e95e"},"children":[{"type":"text","value":"Pin-Priority: 1002"}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Observe que a prioridade precisa ser maior que a prioridade da regra padrão para funcionar."}]},{"type":"element","tag":"h3","props":{"id":"por-origem"},"children":[{"type":"text","value":"Por origem"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Ao instalar o pacote "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"nodejs"}]},{"type":"text","value":" a versão "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"4.8"}]},{"type":"text","value":" será instalada pois é a mais recente que está no repositório padrão."}]},{"type":"element","tag":"code","props":{"code":"apt install nodejs\n...\nObter:1 http://ftp.br.debian.org/debian stretch/main amd64 nodejs amd64 4.8.2~dfsg-1 [3.440 kB]\n...\n","language":"bash"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-56e95e"},"children":[{"type":"text","value":"apt install nodejs"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-56e95e"},"children":[{"type":"text","value":"..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-56e95e"},"children":[{"type":"text","value":"Obter:1 http://ftp.br.debian.org/debian stretch/main amd64 nodejs amd64 4.8.2~dfsg-1 [3.440 kB]"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-56e95e"},"children":[{"type":"text","value":"..."}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Para pegar a versão mais rescente do "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"nodejs"}]},{"type":"text","value":" diretamente do "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"deb.nodesource.com"}]},{"type":"text","value":" em vez do repositório padrão do Debian use:"}]},{"type":"element","tag":"code","props":{"code":"# /etc/apt/preferences.d/nodejs\nPackage: *\nPin: origin deb.nodesource.com\nPin-Priority: 1001\n","language":"bash"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-705ad0"},"children":[{"type":"text","value":"# /etc/apt/preferences.d/nodejs"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-56e95e"},"children":[{"type":"text","value":"Package: "}]},{"type":"element","tag":"span","props":{"class":"ct-ac2ed9"},"children":[{"type":"text","value":"*"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-56e95e"},"children":[{"type":"text","value":"Pin: origin deb.nodesource.com"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-56e95e"},"children":[{"type":"text","value":"Pin-Priority: 1001"}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Então basta executar o comando de instalação novamente para que o pacote seja atualizado para a versão "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"12"}]},{"type":"text","value":"."}]},{"type":"element","tag":"code","props":{"code":"apt update\napt install nodejs\n...\nObter:1 https://deb.nodesource.com/node_12.x stretch/main amd64 nodejs amd64 12.6.0-1nodesource1 [16,9 MB]\n...\n","language":"bash"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-56e95e"},"children":[{"type":"text","value":"apt update"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-56e95e"},"children":[{"type":"text","value":"apt install nodejs"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-56e95e"},"children":[{"type":"text","value":"..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-56e95e"},"children":[{"type":"text","value":"Obter:1 https://deb.nodesource.com/node_12.x stretch/main amd64 nodejs amd64 12.6.0-1nodesource1 [16,9 MB]"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-56e95e"},"children":[{"type":"text","value":"..."}]}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"parte-3---upgradedowngrade"},"children":[{"type":"text","value":"Parte 3 - Upgrade/Downgrade"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Agora que todas as nossas regras já estão definida basta atualizar que os pacotes vão para a versões escolhidas."}]},{"type":"element","tag":"code","props":{"code":"apt-get update\napt-get upgrade\napt-get dist-upgrade\n","language":"bash"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-56e95e"},"children":[{"type":"text","value":"apt-get update"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-56e95e"},"children":[{"type":"text","value":"apt-get upgrade"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-56e95e"},"children":[{"type":"text","value":"apt-get dist-upgrade"}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Note que alguns pacotes podem sofrer downgrade nesta atualização."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Só para conferir que a versão escolhida foi realmente instalada:"}]},{"type":"element","tag":"code","props":{"code":"$ dpkg -l | grep hugo\nii  hugo 0.55.6+really0.54.0-1 amd64 Fast and flexible Static Site Generator written in Go\n","language":"text"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"$ dpkg -l | grep hugo\nii  hugo 0.55.6+really0.54.0-1 amd64 Fast and flexible Static Site Generator written in Go"}]}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"entendendo-os-valores-das-prioridades"},"children":[{"type":"text","value":"Entendendo os valores das prioridades"}]},{"type":"element","tag":"h3","props":{"id":"p--1000"},"children":[{"type":"text","value":"P > 1000"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Instala mesmo que precise baixar a versão de algum pacote já instalado.\nSomente prioridades acima de 1000 permitem downgrade."}]},{"type":"element","tag":"h3","props":{"id":"990--p--1000"},"children":[{"type":"text","value":"990 < P <= 1000"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Instala somente se uma versão maior estiver disponível no "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"target release"}]},{"type":"text","value":" (Ver variáel APT::Default-Release para detalhes).\nNão permite downgrade de pacote instalado."}]},{"type":"element","tag":"h3","props":{"id":"500--p--990"},"children":[{"type":"text","value":"500 < P <= 990"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Instala somente se uma versão maior estiver disponível no "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"target release"}]},{"type":"text","value":" (Ver variáel APT::Default-Release para detalhes)."}]},{"type":"element","tag":"h3","props":{"id":"100--p--500"},"children":[{"type":"text","value":"100 < P <= 500"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Utilizado como predefinição para os arquivos NotAutomatic e ButAutomaticUpgrades"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Instala a menos que exista uma versão disponível em outra distribuição ou se a versão instalada for mais recente."}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"causes a version to be installed unless there is a version available\nbelonging to some other distribution or the installed version is more recent"}]}]},{"type":"element","tag":"h3","props":{"id":"0--p--100"},"children":[{"type":"text","value":"0 < P <= 100"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Instala somente se não possuir versão instalada do pacote."}]},{"type":"element","tag":"h3","props":{"id":"p--1"},"children":[{"type":"text","value":"P == 1"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Valor padrão para NotAutomatic"}]},{"type":"element","tag":"h3","props":{"id":"p--0"},"children":[{"type":"text","value":"P < 0"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Nunca instala o pacote mesmo que o pacote seja recomendado."}]},{"type":"element","tag":"style","children":[{"type":"text","value":".ct-ac2ed9{color:#F92672}.ct-56e95e{color:#F8F8F2}.ct-705ad0{color:#88846F}"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"parte-1---regra-geral","depth":2,"text":"Parte 1 - Regra geral"},{"id":"parte-2---exceções-à-regra-geral","depth":2,"text":"Parte 2 - Exceções à regra geral","children":[{"id":"por-target","depth":3,"text":"Por target"},{"id":"por-origem","depth":3,"text":"Por origem"}]},{"id":"parte-3---upgradedowngrade","depth":2,"text":"Parte 3 - Upgrade/Downgrade"},{"id":"entendendo-os-valores-das-prioridades","depth":2,"text":"Entendendo os valores das prioridades","children":[{"id":"p--1000","depth":3,"text":"P > 1000"},{"id":"990--p--1000","depth":3,"text":"990 < P <= 1000"},{"id":"500--p--990","depth":3,"text":"500 < P <= 990"},{"id":"100--p--500","depth":3,"text":"100 < P <= 500"},{"id":"0--p--100","depth":3,"text":"0 < P <= 100"},{"id":"p--1","depth":3,"text":"P == 1"},{"id":"p--0","depth":3,"text":"P < 0"}]}]}},"_type":"markdown","_id":"content:til:escolhendo-versoes-dos-pacotes-no-debian-e-ubuntu.md","_source":"content","_file":"til/escolhendo-versoes-dos-pacotes-no-debian-e-ubuntu.md","_extension":"md"}]