<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="description" content="pikchr">
    <meta name="author" content="Geraldo Luis da Silva Ribeiro">
    <title>pikchr</title>
    <script async src="https://ackee.intmain.io/tracker.js" data-ackee-server="https://ackee.intmain.io" data-ackee-domain-id="ae2b54a4-84be-4e13-9143-062488243a8c"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/base16/materia.min.css">
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlightjs-line-numbers.js/2.8.0/highlightjs-line-numbers.min.js"></script>
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6442897272752686" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="/styles.css">
  </head>
  <body class="bg-black">
    <nav class="bg-slate-800 text-blue-400 border-gray-200 px-2 sm:px-4 py-2.5">
      <div class="container flex flex-wrap justify-between items-center mx-auto"><a class="flex items-center" href="/"><img class="mr-3 h-6 sm:h-9" src="/logo.svg" alt="Geraldo Ribeiro"><span class="self-center text-xl font-semibold whitespace-nowrap underline-offset-8 hover:underline hover:text-white">Geraldo Ribeiro </span></a>
        <ul class="hidden fixed top-0 right-0 px-10 py-16 bg-gray-800 z-30 md:relative md:flex md:p-0 md:bg-transparent md:flex-row md:space-x-6" id="menu">
          <li class="z-40 fixed top-4 right-6 md:hidden" id="menu-close-btn"><a class="text-right text-blue-500 text-4xl font-bold" href="javascript:void(0)">&times;</a></li>
          <li><a class="block py-2 pr-4 pl-3 text-blue-400 underline-offset-8 hover:text-white hover:underline md:p-0" href="/about.html" aria-current="page">About</a></li>
          <li><a class="block py-2 pr-4 pl-3 text-blue-400 underline-offset-8 hover:text-white hover:underline md:p-0" href="/tils.html" aria-current="page">Today I Learned</a></li>
          <li><a class="block py-2 pr-4 pl-3 text-blue-400 underline-offset-8 hover:text-white hover:underline md:p-0" href="/certificates.html" aria-current="page">Certificates</a></li>
        </ul>
        <div class="flex mr-2 items-center md:hidden" id="menu-hamburger-btn"><a class="text-slate-500 text-2xl font-bold opacity-70 duration-300 hover:opacity-100" href="javascript:void(0)">&#x2630; </a></div>
      </div>
    </nav>
    <script>
      window.addEventListener("load", () => {
        const menuHamburgerBtn = document.querySelector("#menu-hamburger-btn");
        const menuCloseBtn = document.querySelector("#menu-close-btn");
        const menu = document.querySelector("#menu");
        menuHamburgerBtn.addEventListener("click", () => { menu.classList.toggle("hidden"); });
        menuCloseBtn.addEventListener("click", () => { menu.classList.toggle("hidden"); });
      });
    </script>
    <div class="prose mx-auto py-4 px-4">
      <form id="search" method="get" action="/search.html">
        <label class="mb-2 text-sm font-medium text-gray-300 sr-only" for="search-input">Search</label>
        <div class="relative">
          <div class="flex absolute inset-y-0 left-0 items-center pl-3 pointer-events-none">
            <svg class="w-5 h-5 text-gray-500 dark:text-gray-400" aria-hidden="true" fill="none" stroke="currentColor" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
            </svg>
          </div>
          <input class="block p-4 pl-10 w-full text-sm text-white bg-slate-800 border border-slate-700 placeholder-slate-400 focus:ring-blue-500" id="search-input" type="search" name="query" placeholder="Search vim, bash..." required="">
          <button class="text-white absolute bg-slate-700 font-medium text-sm px-4 py-2 right-2.5 bottom-2.5 hover:bg-blue-800 focus:bg-blue-700 focus:outline-none focus:ring-blue-200" type="submit">Search</button>
        </div>
      </form>
    </div>
    <div class="bg-black text-slate-100 min-h-screen">
      <main class="bg-slate-900 max-w-prose mx-auto prose prose-invert text-slate-400 p-4 overflow-hidden"><a class="mb-2 text-slate-600 block cursor-pointer hover:text-slate-200" href="/tils.html">
          <svg class="inline h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
            <path stroke-linecap="round" stroke-linejoin="round" d="M11 17l-5-5m0 0l5-5m-5 5h12"></path>
          </svg><span>Back to TILs</span></a>
        <h1>pikchr</h1>
        <div class="text-slate-600">Date: <b class="mr-4 ml-2">2023-01-15</b>Last modified: <b class="ml-2">2023-03-06 </b></div>
        <div class="flex flex-wrap"><a class="tag no-underline" href="/til/tag/pikchr.html">pikchr</a><a class="tag no-underline" href="/til/tag/pic.html">pic</a><a class="tag no-underline" href="/til/tag/dpic.html">dpic</a><a class="tag no-underline" href="/til/tag/text-driven.html">text-driven</a>
        </div><p><strong>Table of contents</strong></p>
<p><div class="table-of-contents"><ul><li><a href="#introduction">Introduction</a></li><li><a href="#sample">Sample</a></li><li><a href="#filled-polygon">Filled Polygon</a></li><li><a href="#macro">Macro</a></li><li><a href="#utf-8-characters">UTF-8 characters</a></li><li><a href="#trigonometric-functions">Trigonometric functions</a></li><li><a href="#some-digrams-on-internet">Some digrams on internet</a></li><li><a href="#references">References</a></li></ul></div></p>
<h2 id="introduction" tabindex="-1">Introduction</h2>
<p>Online editor on <a href="https://pikchr.org/home/pikchrshow">https://pikchr.org/home/pikchrshow</a></p>
<h2 id="sample" tabindex="-1">Sample</h2>
<figure class="bg-slate-800 text-center py-4">
  <a name="fig-1">
    <img class="mx-auto my-2" src="/til/pikchr_sample.svg" alt="Pikchr sample from official documentation.">
  </a>
  <figcaption class="text-center text-lg font-bold">
     <strong>Fig. 1</strong> — <span>Pikchr sample from official documentation.</span>
  </figcaption>
</figure>
<p>The figure above was generaed by the following code:</p>
<pre><code class="language-shell">topmargin += 1mm
margin = 5mm
arrow right 200% &quot;Markdown&quot; &quot;Source&quot;
box rad 10px &quot;Markdown&quot; &quot;Formatter&quot; &quot;(markdown.c)&quot; fit
arrow right 200% &quot;HTML+SVG&quot; &quot;Output&quot;
arrow &lt;-&gt; down 70% from last box.s
box same &quot;Pikchr&quot; &quot;Formatter&quot; &quot;(pikchr.c)&quot; fit
# Extracted by md2pug
</code></pre>
<h2 id="filled-polygon" tabindex="-1">Filled Polygon</h2>
<div role="alert" class="my-4">
  <div class="bg-green-500 text-white font-bold rounded-t px-4 py-2">
    <span class="text-2xl">⚡</span>
    <span>Tip</span>
  </div>
  <div class="border border-t-0 border-green-400 rounded-b px-4 py-3">
<p>The keyword <code>close</code> converts the line into a polygon.</p>
  </div>
</div>
<figure class="bg-slate-800 text-center py-4">
  <a name="fig-2">
    <img class="mx-auto my-2" src="/til/pikchr_polygon.svg" alt="Filled polygon">
  </a>
  <figcaption class="text-center text-lg font-bold">
     <strong>Fig. 2</strong> — <span>Filled polygon</span>
  </figcaption>
</figure>
<pre><code class="language-shell">margin = 5mm;
text &quot;Start here&quot; 
dot color green width 200%
# heading zero == north
line thin thin go 6cm heading 60 then down 3cm close fill DarkViolet
# Extracted by md2pug
</code></pre>
<figure class="bg-slate-800 text-center py-4">
  <a name="fig-3">
    <img class="mx-auto my-2" src="/til/pikchr_triangle.svg" alt="Filled polygon fail">
  </a>
  <figcaption class="text-center text-lg font-bold">
     <strong>Fig. 3</strong> — <span>Filled polygon fail</span>
  </figcaption>
</figure>
<pre><code class="language-shell">A: (  0, sqrt(3/4))
B: (  0.5, 0)
C: ( -0.5, 0)
margin = 5mm;
line from A to B then to C then to A # fill Brow # 💩 WITHOUT CLOSE IGNORED FILL
circle rad 0.1 at A fill Aqua
circle rad 0.1 at B fill blue
circle rad 0.1 at C fill green
# Extracted by md2pug
</code></pre>
<div role="alert" class="my-4">
  <div class="bg-green-500 text-white font-bold rounded-t px-4 py-2">
    <span class="text-2xl">⚡</span>
    <span>Tip</span>
  </div>
  <div class="border border-t-0 border-green-400 rounded-b px-4 py-3">
<p>The <code>then</code> keyword continue positioning without drawing a line.</p>
  </div>
</div>
<div role="alert" class="my-4">
  <div class="bg-green-500 text-white font-bold rounded-t px-4 py-2">
    <span class="text-2xl">⚡</span>
    <span>Tip</span>
  </div>
  <div class="border border-t-0 border-green-400 rounded-b px-4 py-3">
<p>The <code>close</code> keyword changes the last line <code>end</code> position.</p>
  </div>
</div>
<figure class="bg-slate-800 text-center py-4">
  <a name="fig-4">
    <img class="mx-auto my-2" src="/til/pikchr_arrow.svg" alt="Arrow">
  </a>
  <figcaption class="text-center text-lg font-bold">
     <strong>Fig. 4</strong> — <span>Arrow</span>
  </figcaption>
</figure>
<pre><code class="language-shell">margin = 10mm;
dot color blue
line right 2cm then down .5cm then up 1cm right 1cm \
   then up 1cm left 1cm then down .5cm then left 2cm \
   close &quot;with 'close'&quot;
dot color red at last line.end

move to 2.5cm south of last line.start
line right 2cm then down .5cm then up 1cm right 1cm \
   then up 1cm left 1cm then down .5cm then left 2cm \
   then down 1cm &quot;without 'close'&quot;
dot color red at last line.end
# Extracted by md2pug
</code></pre>
<h2 id="macro" tabindex="-1">Macro</h2>
<div role="alert" class="my-4">
  <div class="bg-yellow-200 text-black font-bold rounded-t px-4 py-2">
    <span class="text-2xl">☢</span>
    <span>Warning</span>
  </div>
  <div class="border border-t-0 border-yellow-200 rounded-b px-4 py-3">
<p><a href="https://pikchr.org/home/forumpost/83e98ec009">https://pikchr.org/home/forumpost/83e98ec009</a>:
Once created, a macro cannot be redefined. If you attempt to redefine a macro
by providing a second “define” statement with the same macro name, the macro
name will be replaced by the previous macro body definition during lexical
analysis, likely resulting in a syntax error.</p>
  </div>
</div>
<figure class="bg-slate-800 text-center py-4">
  <a name="fig-5">
    <img class="mx-auto my-2" src="/til/pikchr_macro_flag.svg" alt="Pikchr macro flag">
  </a>
  <figcaption class="text-center text-lg font-bold">
     <strong>Fig. 5</strong> — <span>Pikchr macro flag</span>
  </figcaption>
</figure>
<pre><code class="language-shell">CP: dot invisible;

define flag { 
    line go 1.5 heading $flagAngle \
    then go 0.5 heading $flagAngle + 110 \
    then go 0.5 heading $flagAngle + 250 color $color;
    move to CP;
}
margin = 10mm;
$flagAngle = 00; $color=red;   flag;
$flagAngle = 30; $color=blue;  flag;
$flagAngle = 60; $color=green; flag;
# Extracted by md2pug
</code></pre>
<div role="alert" class="my-4">
  <div class="bg-green-500 text-white font-bold rounded-t px-4 py-2">
    <span class="text-2xl">⚡</span>
    <span>Tip</span>
  </div>
  <div class="border border-t-0 border-green-400 rounded-b px-4 py-3">
<p>When parameters are present, they are substituted in the macro body in place of <code>$1</code>, <code>$2</code>, …, <code>$9</code> in the macro body.</p>
  </div>
</div>
<figure class="bg-slate-800 text-center py-4">
  <a name="fig-6">
    <img class="mx-auto my-2" src="/til/pikchr_macro_with_parameter.svg" alt="Pikchr macro with parameters">
  </a>
  <figcaption class="text-center text-lg font-bold">
     <strong>Fig. 6</strong> — <span>Pikchr macro with parameters</span>
  </figcaption>
</figure>
<pre><code class="language-shell">define mybox {
move right 10mm;
dot color blue;  
box width $1 height $2 radius 2mm color $3;
box $4 width ($1-3mm) height ($2-3mm) at last box radius 1mm;
box width ($1-6mm) height ($2-6mm) at last box;
}
margin = 10mm
mybox(3cm, 4cm, red, &quot;text1&quot;)
mybox(2cm, 1cm, blue, &quot;text2&quot;)
mybox(4cm,4cm, yellow, &quot;text3&quot;)
# Extracted by md2pug
</code></pre>
<h2 id="utf-8-characters" tabindex="-1">UTF-8 characters</h2>
<figure class="bg-slate-800 text-center py-4">
  <a name="fig-7">
    <img class="mx-auto my-2" src="/til/pikchr_utf_8_character.svg" alt="Pikchr UTF-8 character">
  </a>
  <figcaption class="text-center text-lg font-bold">
     <strong>Fig. 7</strong> — <span>Pikchr UTF-8 character</span>
  </figcaption>
</figure>
<pre><code class="language-shell">margin = 1cm
P1: (0,0)
P2: (4cm,3cm)
P3: (4cm,0)
line from P1 to P2 to P3 close dashed thin thin fill purple
line invisible from P1 to P2 &quot;☕☕&quot; above aligned big
line invisible from P2 to P3 &quot; ✍&quot; ljust big
line invisible from P1 to P3 &quot;🍕&quot; below big
dot at P1 fill red
dot at P2 fill blue
dot at P3 fill green
box with .sw at (-1cm,-1cm) width 6cm height 5cm thin color brown radius 2mm
move to (0cm,3cm)
Caption: text &quot;🔵🔴🟠🟡🟢🟣🟤&quot; &quot;🟦🟥🟧🟨🟩🟪🟫&quot; &quot;🛑🔶🔷🔸🔹🔺🔻&quot;
# Extracted by md2pug
</code></pre>
<h2 id="trigonometric-functions" tabindex="-1">Trigonometric functions</h2>
<div role="alert" class="my-4">
  <div class="bg-blue-500 text-white font-bold rounded-t px-4 py-2">
    <span class="text-2xl">☕</span>
    <span>Information</span>
  </div>
  <div class="border border-t-0 border-blue-400 rounded-b px-4 py-3">
<p>Zero heading == North</p>
  </div>
</div>
<div role="alert" class="my-4">
  <div class="bg-blue-500 text-white font-bold rounded-t px-4 py-2">
    <span class="text-2xl">☕</span>
    <span>Information</span>
  </div>
  <div class="border border-t-0 border-blue-400 rounded-b px-4 py-3">
<p><strong>sin</strong> and <strong>cos</strong> assumes radian as its argument</p>
  </div>
</div>
<figure class="bg-slate-800 text-center py-4">
  <a name="fig-8">
    <img class="mx-auto my-2" src="/til/pikchr_trig.svg" alt="Trigonometric functions">
  </a>
  <figcaption class="text-center text-lg font-bold">
     <strong>Fig. 8</strong> — <span>Trigonometric functions</span>
  </figcaption>
</figure>
<pre><code class="language-shell">pi = 3.141592  # define a constant
a = sin(pi)    # 0
b = cos(pi)    # 1
c = abs(-pi)   # 3.141592
d = int(pi)    # 3
e = sqrt(25)   # 5

define trigCircle {
  circle radius 1 color gray
  arrow from (0,-1.2) to (0,1.2) color gray
  arrow from (-1.2,0) to (1.2,0) color gray
}

define angHor  {
  arrow from (0,0) to (sin((90-$1)*pi/180),cos((90-$1)*pi/180)) color purple
  text $2 color purple
}

define angVert {
  arrow from (0,0) to (sin($1*pi/180),cos($1*pi/180)) color green thin thin
  text $2 above rjust color green
}

trigCircle
angHor( 30, &quot;30⁰ = 60 from N&quot; )
angHor( 20, &quot;20⁰ = 70 from N&quot; )
angHor( 10, &quot;10⁰ = 80 from N&quot; )
angVert( 10, &quot;10⁰&quot; )
angVert( 20, &quot;20⁰&quot; )
angVert( 30, &quot;30⁰&quot; )
angVert( 40, &quot;40⁰&quot; )
angVert( 50, &quot;50⁰&quot; )

arrow from (0,0) to (b,a) &quot;Pi&quot; above color red thick thick
# Extracted by md2pug
</code></pre>
<figure class="bg-slate-800 text-center py-4">
  <a name="fig-9">
    <img class="mx-auto my-2" src="/til/pikchr_circle_chop.svg" alt="Pikchr circle chop">
  </a>
  <figcaption class="text-center text-lg font-bold">
     <strong>Fig. 9</strong> — <span>Pikchr circle chop</span>
  </figcaption>
</figure>
<pre><code class="language-shell">margin =  1cm
circlerad = 3mm
circle &quot;a&quot; color brown
circle &quot;b&quot; at 1st circle + (-0.4, -0.6) color green
circle &quot;c&quot; at 1st circle + (0.4, -0.6) color cyan
arrow from 1st circle to 2nd circle chop color purple
arrow from 1st circle to 3rd circle chop color purple
# Extracted by md2pug
</code></pre>
<figure class="bg-slate-800 text-center py-4">
  <a name="fig-10">
    <img class="mx-auto my-2" src="/til/pikchr_path_division.svg" alt="Pikchr path division">
  </a>
  <figcaption class="text-center text-lg font-bold">
     <strong>Fig. 10</strong> — <span>Pikchr path division</span>
  </figcaption>
</figure>
<pre><code class="language-shell">margin = 1cm
box width 1cm height 3cm
arrow right from 0 &lt;last box.ne, last box.se&gt; color red &quot;0&quot; small small above
arrow right from 1/3 of the way between last box.ne and last box.se color orange &quot;1/3&quot; small small above
arrow right from 2/3 &lt;last box.ne, last box.se&gt; color blue &quot;2/3&quot; small small above
arrow right from 1 &lt;last box.ne, last box.se&gt; color green &quot;1&quot; small small above

P1: (3cm,-15mm)
P2: (4cm,1.5cm)
P3: (8cm,-15mm)
P4: (4.5cm,1.5cm)

dot at P1 &quot;P1&quot; below rjust
dot at P2 &quot;P2&quot; above rjust
dot at P3 &quot;P3&quot; below ljust
dot at P4 &quot;P4&quot; above ljust

L1: line from P1 to P2
L2: line from P3 to P4

arrow from 1/3 &lt;P1, P2&gt; to 1/3 &lt;P3, P4&gt; color blue
arrow from 2/3 &lt;P1, P2&gt; to 2/3 &lt;P3, P4&gt; color orange
# Extracted by md2pug
</code></pre>
<figure class="bg-slate-800 text-center py-4">
  <a name="fig-11">
    <img class="mx-auto my-2" src="/til/pikchr_spline.svg" alt="Pikchr spline">
  </a>
  <figcaption class="text-center text-lg font-bold">
     <strong>Fig. 11</strong> — <span>Pikchr spline</span>
  </figcaption>
</figure>
<pre><code class="language-shell">margin = 1cm
line dashed right 1 then down .5 left 1 then right 1 thin thin
spline from start of last line right 1 then down .5 left 1 then right 1 color orange
# Extracted by md2pug
</code></pre>
<figure class="bg-slate-800 text-center py-4">
  <a name="fig-12">
    <img class="mx-auto my-2" src="/til/pikchr_block.svg" alt="Pikchr block">
  </a>
  <figcaption class="text-center text-lg font-bold">
     <strong>Fig. 12</strong> — <span>Pikchr block</span>
  </figcaption>
</figure>
<pre><code class="language-shell">box &quot;1&quot; width 4cm height 4mm
A: [
  box &quot;2&quot; height 6mm width 2cm color green; 
  arrow &quot;3&quot; above width 1cm
  box &quot;4&quot; width 4cm height 1cm color blue
  arrow right 1cm down 1cm &quot;5&quot; above
] with .n at last box.s - (0,15mm)

dot at last [].w &quot;w &quot; rjust  color red
dot at last [] &quot;c&quot; below  color red
dot at last [].e &quot; e&quot; ljust color red
dot at last [].n &quot;n&quot; above color red
dot at last [].s &quot;s&quot; below color red
dot at last [].sw &quot;sw&quot; below color red
dot at last [].nw &quot;nw&quot; above color red
dot at last [].se &quot;se&quot; below color red
dot at last [].ne &quot;ne&quot; above color red

box with .sw at A.sw - (5mm,5mm) width (A.width + 10mm) height (A.height + 10mm) thin thin color orange dotted
# Extracted by md2pug
</code></pre>
<figure class="bg-slate-800 text-center py-4">
  <a name="fig-13">
    <img class="mx-auto my-2" src="/til/pikchr_sub_block.svg" alt="Pikchr sub-block">
  </a>
  <figcaption class="text-center text-lg font-bold">
     <strong>Fig. 13</strong> — <span>Pikchr sub-block</span>
  </figcaption>
</figure>
<pre><code class="language-shell">margin = 1cm
X: [
  Y: [
    down
    R: box width 5mm height 5mm color red 
    G: box width 5mm height 5mm color green
    B: box width 5mm height 5mm color blue
  ]
  Z: [
    move right 8cm up 0mm
    # up last direction
    A: box width 2cm height 5mm color orange &quot;X.Z.A&quot;
    move up 1mm
    B: box width 2cm height 5mm color brown &quot;X.Z.B&quot;
    move up 1mm
    C: box width 2cm height 5mm color orange &quot;X.Z.C&quot;
  ]
  W: [
    move right 16cm down 0mm
    A: box width 2cm height 5mm color orange &quot;X.W.A&quot;
    move down 1mm
    B: box width 2cm height 5mm color brown &quot;X.W.B&quot;
    move down 1mm
    C: box width 2cm height 5mm color orange &quot;X.W.C&quot;
  ]
]

arrow from X.Y.R right &quot;R&quot; above
arrow from X.Y.G left &quot;G&quot; above
arrow from X.Y.B down &quot; B&quot; ljust

arrow from X.Y.B to X.Z.A chop color purple
arrow from X.Y.B to X.Z.C.w chop color purple
arrow from X.Z.C.e right 5mm then down until even with X.Z.B.e then to X.Z.B.e 

line from X.Z.C to X.W.C thin thin dotted
arrow &lt;-&gt; from X.Z.A to X.W.A color blue chop
# Extracted by md2pug
</code></pre>
<figure class="bg-slate-800 text-center py-4">
  <a name="fig-14">
    <img class="mx-auto my-2" src="/til/pikchr_arc.svg" alt="Pikchr arc">
  </a>
  <figcaption class="text-center text-lg font-bold">
     <strong>Fig. 14</strong> — <span>Pikchr arc</span>
  </figcaption>
</figure>
<pre><code class="language-shell">define r { line 50%; arc; line; arc cw; line; arc cw; line; arc; line 50% }
color = blue
r 
color = green
r
color = red
r
color = orange
r
color = purple
spline -&gt; from (0,0) then to (4,1) then to (8,0)
spline -&gt; from (0,0) then to (4,1.5) then to (8,0)
spline -&gt; from (0,0) then to (4,2) then to (8,0)
# Extracted by md2pug
</code></pre>
<h2 id="some-digrams-on-internet" tabindex="-1">Some digrams on internet</h2>
<figure class="bg-slate-800 text-center py-4">
  <a name="fig-15">
    <img class="mx-auto my-2" src="/til/pikchr_tailscale_diagram.svg" alt="Pikchr tailscale diagram. Adapted from https://zellyn.com/2022/02/tailscale-diagram-in-pikchr/">
  </a>
  <figcaption class="text-center text-lg font-bold">
     <strong>Fig. 15</strong> — <span>Pikchr tailscale diagram. Adapted from https://zellyn.com/2022/02/tailscale-diagram-in-pikchr/</span>
  </figcaption>
</figure>
<pre><code class="language-shell">topmargin = 1
fontscale = 3
color = 0xc65835 # Orange

define $boxlet {
  oval at -0.18,0 height 0.75 width 0.33 color none fill 0xd6d6d6
  box same as last at -0.12,0.28 height 0.2 width 0.2 radius 0
  box at 0,0 height 1 width 1 color none fill 0x343433 radius 0.2 behind last box
}

define $wall {
  box at 0,0 height 3.1 width 0.76 color none fill 0x496495
  line from -0.38*$1,0.34 to $1*0.38,0.16 to $1*0.38,-0.16 to -0.38*$1,-0.34 close color none fill 0xaec0e0
}

define $wall_info {
  text at last.n + (0.0, 0.5) color 0x496495 $2 bold
  circle at last.n + (0.0,0.3) radius 0.25 thickness 0.05 color 0x5a79a6
  line from (last.x-$1*0.11,last circle.c.y) \
    right $1*0.22 then \
    up $1*0.11 left $1*0.11 then \
    down $1*0.11 right $1*0.11 then \
    down $1*0.11 left $1*0.11 then \
    up $1*0.11 right $1*0.11 \
    color 0x496495 thickness 0.05
}

define $area {
  box at ($1,$2) width $3 height $4 color none fill 0xf9f9f8 radius 0.2
}

# Servers

$area(0.55,0,5.2,3.1)

WS1: [ $boxlet() ] at (0, 0)
text at last.n + (0.0, 0.1) color 0x595857 &quot;VPN Client&quot; above
text at last.s - (0.0, 1) color 0x030303 $2 &quot;Workstation&quot; below

$area(0,-5.25,4.1,3.1)
$area(2.83,-5.25,0.8,3.1)

WS2: [ $boxlet() ] at (0, -5.25)
text at last.n + (0.0, 0.1) color 0x595857 &quot;VPN Client&quot; above
text at last.s - (0.0, 1) color 0x030303 &quot;Workstation&quot; below

$area(8.3,-2.3,6,5.25)

HUB: [ $boxlet() ] at (8.3, -2.4)
text at last.n + (0.0, 0.1) color 0x595857 &quot;VPN Hub&quot;  above
text at last.s - (0.0, 1.78) color 0x030303 &quot;Server&quot; below

$area(16.10,HUB.c.y,4.1,3.1)
$area(13.27,HUB.c.y,0.8,3.1)

WS3: [ $boxlet() ] at (16.10, HUB.c.y)
text at last.n + (0.0, 0.1) color 0x595857 &quot;VPN Client&quot;  above
text at last.s - (0.0, 1) color 0x030303 &quot;EC2 VM&quot; below

[ $wall(1) ] at (3.20,0)
$wall_info(1, &quot;Windows Firewall&quot;)

[ $wall(1) ] at (3.2,-5.25)
$wall_info(1, &quot;Office Firewall&quot;)

[ $wall(-1) ] at (12.9,HUB.c.y)
$wall_info(-1, &quot;AWS&quot; bold &quot;Security Group&quot; bold &quot;&quot;)

dot at WS1.e radius 0.05
dot at WS2.e radius 0.05
dot at WS3.w radius 0.05

line from WS1.e right 4 then down until even with (0,HUB.y+0.2) right 2.3 then right until even with (HUB.w-0.03,0) thickness 0.04 radius 1
line up 0.15 left 0.15 down 0.15 right 0.15 down 0.15 left 0.15 up 0.15 right 0.15 thickness 0.04

line from WS2.e right 4 then up until even with (0,HUB.y-0.2) right 2.3 then right until even with (HUB.w-0.03,0) thickness 0.04 radius 1
line up 0.15 left 0.15 down 0.15 right 0.15 down 0.15 left 0.15 up 0.15 right 0.15 thickness 0.04

line from WS3.w to 0.03 right of HUB.e thickness 0.04
line up 0.15 right 0.15 down 0.15 left 0.15 down 0.15 right 0.15 up 0.15 left 0.15 thickness 0.04
# Extracted by md2pug
</code></pre>
<h2 id="references" tabindex="-1">References</h2>
<ul>
<li><a href="https://pikchr.org/home/doc/trunk/doc/userman.md">Pikchr User Manual</a></li>
<li><a href="https://janert.me/guides/praise-of-pic/">In Praise of Pic (and pikchr)</a></li>
<li><a href="https://geraldo.dev/til/html-colors.html">HTML colors</a></li>
</ul>

      </main>
    </div>
    <footer class="bg-slate-500 text-slate-400 text-center pb-16">
      <div class="py-4 bg-slate-800">&copy; Geraldo Ribeiro 2022</div>
      <div class="max-w-prose mx-auto py-4 grid gap-y-8 grid-cols-3 justify-items-center md:grid-cols-5 lg:grid-cols-12"><a class="mx-2" href="mailto:geraldolsribeiro@gmail.com" target="_blank"><img class="h-12 w-12" title="E-mail" alt="E-mail" src="/social-email.svg"></a><a class="mx-2" href="https://www.linkedin.com/in/geraldolsribeiro/" target="_blank"><img class="h-12 w-12" title="Linkedin" alt="Linkedin" src="/social-linkedin.svg"></a><a class="mx-2" href="https://github.com/geraldolsribeiro" target="_blank"><img class="h-12 w-12" title="Github" alt="Github" src="/social-github.svg"></a><a class="mx-2" href="https://codepen.io/geraldolsribeiro/" target="_blank"><img class="h-12 w-12" title="Codepen" alt="Codepen" src="/social-codepen.svg"></a><a class="mx-2" href="https://twitter.com/geraldo_dev" target="_blank"><img class="h-12 w-12" title="Twitter" alt="Twitter" src="/social-twitter.svg"></a><a class="mx-2" href="https://t.me/geraldolsribeiro" target="_blank"><img class="h-12 w-12" title="Telegram" alt="Telegram" src="/social-telegram.svg"></a><a class="mx-2" href="https://api.whatsapp.com/send?phone=5512982302703&amp;text=Hi%20Geraldo!" target="_blank"><img class="h-12 w-12" title="Whatsapp" alt="Whatsapp" src="/social-whatsapp.svg"></a><a class="mx-2" href="https://www.instagram.com/geraldo.dev/" target="_blank"><img class="h-12 w-12" title="Instagram" alt="Instagram" src="/social-instagram.svg"></a><a class="mx-2" href="https://www.facebook.com/geraldolsribeiro" target="_blank"><img class="h-12 w-12" title="Facebook" alt="Facebook" src="/social-facebook.svg"></a><a class="mx-2" href="https://stackoverflow.com/users/554111/geraldo-luis-da-silva-ribeiro" target="_blank"><img class="h-12 w-12" title="StackOverflow" alt="StackOverflow" src="/social-stackoverflow.svg"></a><a class="mx-2" href="https://www.youtube.com/@dev.geraldo" target="_blank"><img class="h-12 w-12" title="Youtube" alt="Youtube" src="/social-youtube.svg"></a>
      </div>
    </footer>
    <script>
      //- hljs.highlightAll();
      //- https://github.com/wcoder/highlightjs-line-numbers.js
      //- Exemplo de numeracao em corba.md
      document.addEventListener('DOMContentLoaded', (event) => {
        document.querySelectorAll('pre code').forEach((el) => {
          hljs.highlightElement(el);
        });
      
        document.querySelectorAll('pre code[show-line-numbers]').forEach((el) => {
          hljs.lineNumbersBlock(el); // numbering using plugin
        });
      
      });
    </script>
    <script src="https://utteranc.es/client.js" repo="geraldolsribeiro/geraldo.dev" issue-term="pathname" theme="github-dark" crossorigin="anonymous" async></script>
  </body>
</html>