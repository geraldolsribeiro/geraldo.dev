<!DOCTYPE html>
<html data-head-attrs="">
<head><title>Criando VAPID key</title><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1"><script>const w=window,de=document.documentElement,knownColorSchemes=["dark","light"],preference=window.localStorage.getItem("nuxt-color-mode")||"system";let value=preference==="system"?getColorScheme():preference;const forcedColorMode=de.getAttribute("data-color-mode-forced");forcedColorMode&&(value=forcedColorMode),addColorScheme(value),w["__NUXT_COLOR_MODE__"]={preference,value,getColorScheme,addColorScheme,removeColorScheme};function addColorScheme(e){const o=""+e+"-mode",t="";de.classList?de.classList.add(o):de.className+=" "+o,de.setAttribute("data-"+t,e)}function removeColorScheme(e){const o=""+e+"-mode",t="";de.classList?de.classList.remove(o):de.className=de.className.replace(new RegExp(o,"g"),""),de.removeAttribute("data-"+t)}function prefersColorScheme(e){return w.matchMedia("(prefers-color-scheme"+e+")")}function getColorScheme(){if(w.matchMedia&&prefersColorScheme("").media!=="not all"){for(const e of knownColorSchemes)if(prefersColorScheme(":"+e).matches)return e}return"light"}
</script><link rel="prefetch" href="/api/_content/query/aW52hhdVXE.json"><meta name="description" content="Como misturar de forma saudável diferentes distribuições do Debian. Instale exatamente a versão do aplicativo que você quer sem bagunçar o sistema todo."><link rel="prefetch" href="/api/_content/query/NzPGw5Lgjr.json"><meta name="head:count" content="6"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/entry.5270b287.js"><link rel="preload" as="style" href="/_nuxt/entry.79a04f59.css"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/default.97798889.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/Header.5a1598ee.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/NavBar.d04b0bad.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/logo.d2eabc24.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/Footer.9f2a5b8e.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/_...slug_.e8fb6df7.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/BackLink.vue_vue_type_script_setup_true_lang.5812816b.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseH1.d6ff0874.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/TilDate.vue_vue_type_script_setup_true_lang.2332a0a4.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/index.ccb8f240.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/TilTags.vue_vue_type_script_setup_true_lang.90e8c492.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/TilRelated.vue_vue_type_script_setup_true_lang.969197c4.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/BackLink.95bf9f40.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/TilDate.68ffd300.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/TilTags.01c0cbc0.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/TilRelated.9c76207e.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseP.050e84b0.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseH2.0635f235.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseCode.a79a3316.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseCode.vue_vue_type_style_index_0_lang.f798e303.js"><link rel="preload" as="style" href="/_nuxt/ProseCode.53bbebb3.css"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseUl.42d40c3b.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseLi.edc18320.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseA.e0b8b1cf.js"><link rel="prefetch" as="script" crossorigin href="/_nuxt/ContentNavigation.6b308fc6.js"><link rel="prefetch stylesheet" href="/_nuxt/ContentNavigation.36e62e53.css"><link rel="prefetch" as="script" crossorigin href="/_nuxt/ContentSlot.3e8011ab.js"><link rel="prefetch" as="script" crossorigin href="/_nuxt/Markdown.02f2d7dc.js"><link rel="prefetch" as="script" crossorigin href="/_nuxt/empty.f5319c0c.js"><link rel="prefetch" as="script" crossorigin href="/_nuxt/wide.da754b87.js"><link rel="prefetch" as="script" crossorigin href="/_nuxt/web-socket.1da74627.js"><link rel="prefetch" as="script" crossorigin href="/_nuxt/error-component.3020bf8c.js"><link rel="stylesheet" href="/_nuxt/entry.79a04f59.css"><link rel="stylesheet" href="/_nuxt/ProseCode.53bbebb3.css"></head>
<body data-head-attrs=""><div id="__nuxt"><div><div class="bg-black text-slate-100"><div><div><nav class="bg-slate-800 text-blue-400 border-gray-200 px-2 sm:px-4 py-2.5"><div class="container flex flex-wrap justify-between items-center mx-auto"><a href="/" class="flex items-center"><img src="/logo.svg" class="mr-3 h-6 sm:h-9" alt="Geraldo Ribeiro"><span class="self-center text-xl font-semibold whitespace-nowrap hover:underline underline-offset-8"> Geraldo Ribeiro </span></a><ul class="hidden fixed top-0 right-0 px-10 py-16 bg-gray-800 z-30 md:relative md:flex md:p-0 md:bg-transparent md:flex-row md:space-x-6"><li class="md:hidden z-40 fixed top-4 right-6"><a href="javascript:void(0)" class="text-right text-blue-500 text-4xl font-bold">×</a></li><!--[--><li><a href="/about" class="block py-2 pr-4 pl-3 text-blue-400 hover:text-white hover:underline underline-offset-8 rounded md:p-0" aria-current="page">About</a></li><li><a href="/til" class="block py-2 pr-4 pl-3 text-blue-400 hover:text-white hover:underline underline-offset-8 rounded md:p-0" aria-current="page">Today I Learned</a></li><li><a href="/project" class="block py-2 pr-4 pl-3 text-blue-400 hover:text-white hover:underline underline-offset-8 rounded md:p-0" aria-current="page">Projects</a></li><li><a href="/paper" class="block py-2 pr-4 pl-3 text-blue-400 hover:text-white hover:underline underline-offset-8 rounded md:p-0" aria-current="page">Papers</a></li><li><a href="/certificate" class="block py-2 pr-4 pl-3 text-blue-400 hover:text-white hover:underline underline-offset-8 rounded md:p-0" aria-current="page">Certificates</a></li><!--]--></ul><div class="flex mr-2 items-center md:hidden"><a href="javascript:void(0)" class="text-slate-500 text-2xl font-bold opacity-70 hover:opacity-100 duration-300"> ☰ </a></div></div></nav></div></div><main class="max-w-prose bg-slate-900 relative mx-auto overflow-hidden pt-4 px-2 lg:px-8"><!--[--><!--[--><div><a href="/til" class="text-slate-400 hover:text-slate-200 block cursor-pointer"><svg xmlns="http://www.w3.org/2000/svg" class="inline h-6 w-6" fill="none" viewbox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M11 17l-5-5m0 0l5-5m-5 5h12"></path></svg><!--[-->Back to TIL list<!--]--></a></div><h1 class="text-3xl lg:text-5xl px-2 mt-4 lg:mt-8 text-blue-500 font-semibold"><!--[-->Criando VAPID key<!--]--></h1><div><div class="text-slate-600 text-md my-2"> Last uptate: <time datetime="2020-03-21T00:00:00.000Z">21-Mar-2020</time></div></div><div class="px-2 flex flex-wrap"><!--[--><a href="/til/tag/web" class="bg-slate-500 text-slate-900 hover:bg-blue-500 hover:text-blue-900 border border-slate-500 hover:border-blue-700 text-xs mt-2 mr-2 px-2.5 py-0.5 rounded">web</a><!--]--></div><div class="prose prose-lg text-slate-400 markdown"><div><p><!--[-->VAPID (Voluntary Application Server Identification)
é o novo meio de receber e enviar notificações push através da web.<!--]--></p><h2 id="criação-usando-openssl"><a href="#criação-usando-openssl" class="text-slate-300 my-4 text-3xl font-semibold no-underline"><!--[-->Criação usando openssl<!--]--></a></h2><!--[--><pre><code><span class="line"><span class="ct-530c38">mkdir -p certs</span></span><span class="line"><span class="ct-530c38">openssl ecparam -name prime256v1 -genkey -noout -out certs/vapid_private.pem</span></span><span class="line"><span class="ct-530c38">openssl ec -in certs/vapid_private.pem -pubout  -out certs/vapid_public.pem</span></span><span class="line"><span class="ct-530c38">openssl ec -in certs/vapid_private.pem -outform DER \</span></span><span class="line"><span class="ct-530c38">  </span><span class="ct-055374">|</span><span class="ct-530c38"> tail -c +8 </span><span class="ct-055374">|</span><span class="ct-530c38"> head -c 32 </span><span class="ct-055374">|</span><span class="ct-530c38"> base64 </span><span class="ct-055374">|</span><span class="ct-530c38"> tr -d </span><span class="ct-588e8c">&#39;=&#39;</span><span class="ct-530c38"> </span><span class="ct-055374">|</span><span class="ct-530c38"> tr </span><span class="ct-588e8c">&#39;/+&#39;</span><span class="ct-530c38"> </span><span class="ct-588e8c">&#39;_-&#39;</span><span class="ct-530c38"> \</span></span><span class="line"><span class="ct-530c38">  </span><span class="ct-055374">&gt;</span><span class="ct-530c38"> certs/private_key.txt</span></span><span class="line"><span class="ct-530c38">openssl ec -in certs/vapid_private.pem -pubout -outform DER \</span></span><span class="line"><span class="ct-530c38">  </span><span class="ct-055374">|</span><span class="ct-530c38"> tail -c 65 </span><span class="ct-055374">|</span><span class="ct-530c38"> base64 </span><span class="ct-055374">|</span><span class="ct-530c38"> tr -d </span><span class="ct-588e8c">&#39;=&#39;</span><span class="ct-530c38"> </span><span class="ct-055374">|</span><span class="ct-530c38"> tr </span><span class="ct-588e8c">&#39;/+&#39;</span><span class="ct-530c38"> </span><span class="ct-588e8c">&#39;_-&#39;</span><span class="ct-530c38"> \</span></span><span class="line"><span class="ct-530c38">  </span><span class="ct-055374">&gt;</span><span class="ct-530c38"> certs/public_key.txt</span></span></code></pre><!--]--><h2 id="criação-usando-web-push"><a href="#criação-usando-web-push" class="text-slate-300 my-4 text-3xl font-semibold no-underline"><!--[-->Criação usando web-push<!--]--></a></h2><!--[--><pre><code><span class="line"><span class="ct-530c38">npm install -g web-push</span></span><span class="line"><span class="ct-530c38">web-push generate-vapid-keys</span></span></code></pre><!--]--><h2 id="push-services"><a href="#push-services" class="text-slate-300 my-4 text-3xl font-semibold no-underline"><!--[-->Push services<!--]--></a></h2><ul><!--[--><li class="hover:bg-slate-800"><!--[-->fcm.googleapi.com - firebase - Google<!--]--></li><li class="hover:bg-slate-800"><!--[-->updates.push.service.mozilla.com - Firefox<!--]--></li><!--]--></ul><h2 id="envio-através-do-php-para-android"><a href="#envio-através-do-php-para-android" class="text-slate-300 my-4 text-3xl font-semibold no-underline"><!--[-->Envio através do PHP para android<!--]--></a></h2><!--[--><pre><code><span class="line"><span>&lt;?php

// API access key from Google API&#39;s Console
define( &#39;API_ACCESS_KEY&#39;, &#39;YOUR-API-ACCESS-KEY-GOES-HERE&#39; );


$registrationIds = array( $_GET[&#39;id&#39;] );

// prep the bundle
$msg = array
(
    &#39;message&#39;   =&gt; &#39;here is a message. message&#39;,
    &#39;title&#39;     =&gt; &#39;This is a title. title&#39;,
    &#39;subtitle&#39;  =&gt; &#39;This is a subtitle. subtitle&#39;,
    &#39;tickerText&#39;    =&gt; &#39;Ticker text here...Ticker text here...Ticker text here&#39;,
    &#39;vibrate&#39;   =&gt; 1,
    &#39;sound&#39;     =&gt; 1,
    &#39;largeIcon&#39; =&gt; &#39;large_icon&#39;,
    &#39;smallIcon&#39; =&gt; &#39;small_icon&#39;
);

$fields = array
(
    &#39;registration_ids&#39;  =&gt; $registrationIds,
    &#39;data&#39;          =&gt; $msg
);
 
$headers = array
(
    &#39;Authorization: key=&#39; . API_ACCESS_KEY,
    &#39;Content-Type: application/json&#39;
);
 
$ch = curl_init();
curl_setopt( $ch,CURLOPT_URL, &#39;https://android.googleapis.com/gcm/send&#39; );
curl_setopt( $ch,CURLOPT_POST, true );
curl_setopt( $ch,CURLOPT_HTTPHEADER, $headers );
curl_setopt( $ch,CURLOPT_RETURNTRANSFER, true );
curl_setopt( $ch,CURLOPT_SSL_VERIFYPEER, false );
curl_setopt( $ch,CURLOPT_POSTFIELDS, json_encode( $fields ) );
$result = curl_exec($ch );
curl_close( $ch );

echo $result;</span></span></code></pre><!--]--><!--[--><pre><code><span class="line"><span class="ct-530c38">ensure connection is secured, so CURLOPT_SSL_VERIFYPEER should be </span><span class="ct-f00be9">set</span><span class="ct-530c38"> to </span><span class="ct-f00be9">true</span></span></code></pre><!--]--><h2 id="envio-via-php-para-ios"><a href="#envio-via-php-para-ios" class="text-slate-300 my-4 text-3xl font-semibold no-underline"><!--[-->Envio via PHP para IOS<!--]--></a></h2><!--[--><pre><code><span class="line"><span>&lt;?php

    // Provide the Host Information.

    $tHost = &#39;gateway.sandbox.push.apple.com&#39;;

    $tPort = 2195;

    // Provide the Certificate and Key Data.

    $tCert = &#39;dev.pem&#39;;

    // Provide the Private Key Passphrase (alternatively you can keep this secrete

    // and enter the key manually on the terminal -&gt; remove relevant line from code).

    // Replace XXXXX with your Passphrase

    $tPassphrase = &#39;xxxxxx&#39;;

    // Provide the Device Identifier (Ensure that the Identifier does not have spaces in it).

    // Replace this token with the token of the iOS device that is to receive the notification.

    $tToken = &#39;ada56107075e4d00f9da001b0ad71200cb953b99266e506884f6eab06f13f666&#39;;

    // The message that is to appear on the dialog.

    $empresa = &quot;Petiskeira&quot;;

    $tAlert = $empresa . &#39; tem um recado para você!&#39;;

    // The Badge Number for the Application Icon (integer &gt;=0).

    $tBadge = 1;

    // Audible Notification Option.

    $tSound = &#39;default&#39;;

    // The content that is returned by the LiveCode &quot;pushNotificationReceived&quot; message.

    $tPayload = &#39;{&quot;endereco&quot;:&quot;lauro oscar diefenthaeler&quot;,&quot;tel&quot;:&quot;51 3561-8797&quot;,&quot;numero&quot;:&quot;243&quot;,&quot;complemento&quot;:&quot;0&quot;,&quot;id&quot;:&quot;9&quot;,&quot;nome&quot;:&quot;petiskeira&quot;,&quot;msg&quot;:&quot;Lorem ipsum dolor sit amet, consectetuer adipiscing elit, sed diam nonummy nibh euismod tincidunt ut laoreet dolore magna aliquam erat volutpat. Ut wisi enim ad minim veniam, quis nostrud exerci tation ullamcorper suscipit lobortis nisl ut aliquip ex ea commodo consequat. Duis autem vel eum iriure dolor in hendrerit in vulputate velit esse molestie consequat, vel illum dolore eu feugiat nulla facilisis at vero eros et accumsan et iusto odio dignissim qui blandit praesent luptatum zzril delenit augue duis dolore te feugait nulla facilisi. Nam liber tempor cum soluta nobis eleifend option congue nihil imperdiet doming id quod mazim placerat facer possim assum. Typi non habent claritatem insitam; est usus legentis in iis qui facit eorum claritatem. Investigationes demonstraverunt lectores legere me lius quod ii legunt saepius. Claritas est etiam processus dynamicus, qui sequitur mutationem consuetudium lectorum. Mirum est notare quam littera gothica, quam nunc putamus parum claram, anteposuerit litterarum formas humanitatis per seacula quarta decima et quinta decima. Eodem modo typi, qui nunc nobis videntur parum clari, fiant sollemnes in futurum.&quot;}&#39;;

    // Create the message content that is to be sent to the device.

    $tBody[&#39;aps&#39;] = array (

    &#39;alert&#39; =&gt; $tAlert,

    &#39;badge&#39; =&gt; $tBadge,

    &#39;sound&#39; =&gt; $tSound,

    );

    $tBody [&#39;payload&#39;] = $tPayload;

    // Encode the body to JSON.

    $tBody = json_encode ($tBody);

    // Create the Socket Stream.

    $tContext = stream_context_create ();

    stream_context_set_option ($tContext, &#39;ssl&#39;, &#39;local_cert&#39;, $tCert);

    // Remove this line if you would like to enter the Private Key Passphrase manually.

    stream_context_set_option ($tContext, &#39;ssl&#39;, &#39;passphrase&#39;, $tPassphrase);

    // Open the Connection to the APNS Server.

    $tSocket = stream_socket_client (&#39;ssl://&#39;.$tHost.&#39;:&#39;.$tPort, $error, $errstr, 30, STREAM_CLIENT_CONNECT|STREAM_CLIENT_PERSISTENT, $tContext);

    // Check if we were able to open a socket.

    if (!$tSocket)

    exit (&quot;APNS Connection Failed: $error $errstr&quot; . PHP_EOL);

    // Build the Binary Notification.

    $tMsg = chr (0) . chr (0) . chr (32) . pack (&#39;H*&#39;, $tToken) . pack (&#39;n&#39;, strlen ($tBody)) . $tBody;

    // Send the Notification to the Server.

    $tResult = fwrite ($tSocket, $tMsg, strlen ($tMsg));

    if ($tResult){

    echo &#39;Delivered Message to APNS&#39; . PHP_EOL;

    }else

    echo &#39;Could not Deliver Message to APNS&#39; . PHP_EOL;

    // Close the Connection to the Server.

    fclose ($tSocket);

?&gt;</span></span></code></pre><!--]--><h2 id="referências"><a href="#referências" class="text-slate-300 my-4 text-3xl font-semibold no-underline"><!--[-->Referências<!--]--></a></h2><ul><!--[--><li class="hover:bg-slate-800"><!--[--><a href="https://github.com/rtancman/flask-pywebpush/blob/master/Makefile" rel="nofollow" class="text-slate-200"><!--[-->Makefile do flask-pywebpush<!--]--></a><!--]--></li><li class="hover:bg-slate-800"><!--[--><a href="https://www.rtancman.com.br/python/criando-sistema-de-notificacoes-com-pywebpush.html" rel="nofollow" class="text-slate-200"><!--[-->Criando um sistema de notificações com pywebpush<!--]--></a><!--]--></li><li class="hover:bg-slate-800"><!--[--><a href="https://medium.com/izettle-engineering/beginners-guide-to-web-push-notifications-using-service-workers-cb3474a17679" rel="nofollow" class="text-slate-200"><!--[-->Beginners guide to Web Push Notifications using Service Workers<!--]--></a><!--]--></li><li class="hover:bg-slate-800"><!--[--><a href="https://gist.github.com/prime31/5675017" rel="nofollow" class="text-slate-200"><!--[-->gits: envio de webpush usando PHP<!--]--></a> Aqui tem muitos comentários importantes<!--]--></li><!--]--></ul><style>.ct-f00be9{color:#66D9EF}.ct-588e8c{color:#E6DB74}.ct-055374{color:#F92672}.ct-530c38{color:#F8F8F2}</style></div><!----></div><!--]--><!--]--></main><div><footer class="bg-slate-500 text-slate-400 text-center pb-16"><div class="py-2 bg-slate-800"> © Geraldo Ribeiro 2022 </div><div class="max-w-prose mx-auto mt-8 grid gap-y-8 grid-cols-3 md:grid-cols-5 lg:grid-cols-10 justify-items-center"><!--[--><a href="mailto:geraldolsribeiro@gmail.com" rel="noopener noreferrer" target="_blank" class="mx-2"><img class="h-12 w-12" title="E-mail" alt="E-mail" src="/social-email.svg"></a><a href="https://www.linkedin.com/in/geraldolsribeiro/" rel="noopener noreferrer" target="_blank" class="mx-2"><img class="h-12 w-12" title="Linkedin" alt="Linkedin" src="/social-linkedin.svg"></a><a href="https://github.com/geraldolsribeiro" rel="noopener noreferrer" target="_blank" class="mx-2"><img class="h-12 w-12" title="Github" alt="Github" src="/social-github.svg"></a><a href="https://codepen.io/geraldolsribeiro/" rel="noopener noreferrer" target="_blank" class="mx-2"><img class="h-12 w-12" title="Codepen" alt="Codepen" src="/social-codepen.svg"></a><a href="https://twitter.com/geraldo_dev" rel="noopener noreferrer" target="_blank" class="mx-2"><img class="h-12 w-12" title="Twitter" alt="Twitter" src="/social-twitter.svg"></a><a href="https://t.me/geraldolsribeiro" rel="noopener noreferrer" target="_blank" class="mx-2"><img class="h-12 w-12" title="Telegram" alt="Telegram" src="/social-telegram.svg"></a><a href="https://api.whatsapp.com/send?phone=5512982302703&amp;text=Hi%20Geraldo!" rel="noopener noreferrer" target="_blank" class="mx-2"><img class="h-12 w-12" title="Whatsapp" alt="Whatsapp" src="/social-whatsapp.svg"></a><a href="https://www.instagram.com/geraldo.dev/" rel="noopener noreferrer" target="_blank" class="mx-2"><img class="h-12 w-12" title="Instagram" alt="Instagram" src="/social-instagram.svg"></a><a href="https://www.facebook.com/geraldolsribeiro" rel="noopener noreferrer" target="_blank" class="mx-2"><img class="h-12 w-12" title="Facebook" alt="Facebook" src="/social-facebook.svg"></a><a href="https://stackoverflow.com/users/554111/geraldo-luis-da-silva-ribeiro" rel="noopener noreferrer" target="_blank" class="mx-2"><img class="h-12 w-12" title="StackOverflow" alt="StackOverflow" src="/social-stackoverflow.svg"></a><!--]--></div></footer></div></div></div></div><script>window.__NUXT__=(function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_,$,aa,ab,ac,ad,ae,af,ag,ah,ai,aj,ak){return {data:{"content-query-RmCtOrz3gm":{_path:"\u002Ftil\u002Fvapid-key",_draft:r,_partial:r,_locale:"en",_empty:r,title:"Criando VAPID key",description:"Como misturar de forma saudável diferentes distribuições do Debian. Instale exatamente a versão do aplicativo que você quer sem bagunçar o sistema todo.",excerpt:{type:O,children:[{type:a,tag:P,props:{},children:[{type:b,value:Q}]},{type:a,tag:h,props:{id:w},children:[{type:b,value:x}]},{type:a,tag:e,props:{code:y,language:p},children:[{type:a,tag:k,props:{},children:[{type:a,tag:e,props:{__ignoreMap:g},children:[{type:b,value:y}]}]}]},{type:a,tag:h,props:{id:z},children:[{type:b,value:A}]},{type:a,tag:e,props:{code:B,language:p},children:[{type:a,tag:k,props:{},children:[{type:a,tag:e,props:{__ignoreMap:g},children:[{type:b,value:B}]}]}]},{type:a,tag:h,props:{id:C},children:[{type:b,value:D}]},{type:a,tag:s,props:{},children:[{type:a,tag:i,props:{},children:[{type:b,value:R}]},{type:a,tag:i,props:{},children:[{type:b,value:S}]}]},{type:a,tag:h,props:{id:E},children:[{type:b,value:F}]},{type:a,tag:e,props:{code:G,language:t},children:[{type:a,tag:k,props:{},children:[{type:a,tag:e,props:{__ignoreMap:g},children:[{type:b,value:G}]}]}]},{type:a,tag:e,props:{code:H,language:p},children:[{type:a,tag:k,props:{},children:[{type:a,tag:e,props:{__ignoreMap:g},children:[{type:b,value:H}]}]}]},{type:a,tag:h,props:{id:I},children:[{type:b,value:J}]},{type:a,tag:e,props:{code:K,language:t},children:[{type:a,tag:k,props:{},children:[{type:a,tag:e,props:{__ignoreMap:g},children:[{type:b,value:K}]}]}]},{type:a,tag:h,props:{id:L},children:[{type:b,value:M}]},{type:a,tag:s,props:{},children:[{type:a,tag:i,props:{},children:[{type:a,tag:m,props:{href:T,rel:[n]},children:[{type:b,value:U}]}]},{type:a,tag:i,props:{},children:[{type:a,tag:m,props:{href:V,rel:[n]},children:[{type:b,value:W}]}]},{type:a,tag:i,props:{},children:[{type:a,tag:m,props:{href:X,rel:[n]},children:[{type:b,value:Y}]}]},{type:a,tag:i,props:{},children:[{type:a,tag:m,props:{href:Z,rel:[n]},children:[{type:b,value:_}]},{type:b,value:$}]}]}]},date:"2020-03-21T00:00:00.000Z",draft:N,tags:["web"],Thumbnail:"img\u002Fheaders\u002Fweb.jpg",body:{type:O,children:[{type:a,tag:P,props:{},children:[{type:b,value:Q}]},{type:a,tag:h,props:{id:w},children:[{type:b,value:x}]},{type:a,tag:e,props:{code:y,language:p},children:[{type:a,tag:k,props:{},children:[{type:a,tag:e,props:{__ignoreMap:g},children:[{type:a,tag:c,props:{class:f},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:"mkdir -p certs"}]}]},{type:a,tag:c,props:{class:f},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:"openssl ecparam -name prime256v1 -genkey -noout -out certs\u002Fvapid_private.pem"}]}]},{type:a,tag:c,props:{class:f},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:"openssl ec -in certs\u002Fvapid_private.pem -pubout  -out certs\u002Fvapid_public.pem"}]}]},{type:a,tag:c,props:{class:f},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:"openssl ec -in certs\u002Fvapid_private.pem -outform DER \\"}]}]},{type:a,tag:c,props:{class:f},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:u}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:l}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:" tail -c +8 "}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:l}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:" head -c 32 "}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:l}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:aa}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:l}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:ab}]},{type:a,tag:c,props:{class:q},children:[{type:b,value:ac}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:v}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:l}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:ad}]},{type:a,tag:c,props:{class:q},children:[{type:b,value:ae}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:v}]},{type:a,tag:c,props:{class:q},children:[{type:b,value:af}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:ag}]}]},{type:a,tag:c,props:{class:f},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:u}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:ah}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:" certs\u002Fprivate_key.txt"}]}]},{type:a,tag:c,props:{class:f},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:"openssl ec -in certs\u002Fvapid_private.pem -pubout -outform DER \\"}]}]},{type:a,tag:c,props:{class:f},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:u}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:l}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:" tail -c 65 "}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:l}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:aa}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:l}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:ab}]},{type:a,tag:c,props:{class:q},children:[{type:b,value:ac}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:v}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:l}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:ad}]},{type:a,tag:c,props:{class:q},children:[{type:b,value:ae}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:v}]},{type:a,tag:c,props:{class:q},children:[{type:b,value:af}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:ag}]}]},{type:a,tag:c,props:{class:f},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:u}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:ah}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:" certs\u002Fpublic_key.txt"}]}]}]}]}]},{type:a,tag:h,props:{id:z},children:[{type:b,value:A}]},{type:a,tag:e,props:{code:B,language:p},children:[{type:a,tag:k,props:{},children:[{type:a,tag:e,props:{__ignoreMap:g},children:[{type:a,tag:c,props:{class:f},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:"npm install -g web-push"}]}]},{type:a,tag:c,props:{class:f},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:"web-push generate-vapid-keys"}]}]}]}]}]},{type:a,tag:h,props:{id:C},children:[{type:b,value:D}]},{type:a,tag:s,props:{},children:[{type:a,tag:i,props:{},children:[{type:b,value:R}]},{type:a,tag:i,props:{},children:[{type:b,value:S}]}]},{type:a,tag:h,props:{id:E},children:[{type:b,value:F}]},{type:a,tag:e,props:{code:G,language:t},children:[{type:a,tag:k,props:{},children:[{type:a,tag:e,props:{__ignoreMap:g},children:[{type:a,tag:c,props:{class:f},children:[{type:a,tag:c,props:{},children:[{type:b,value:"\u003C?php\n\n\u002F\u002F API access key from Google API's Console\ndefine( 'API_ACCESS_KEY', 'YOUR-API-ACCESS-KEY-GOES-HERE' );\n\n\n$registrationIds = array( $_GET['id'] );\n\n\u002F\u002F prep the bundle\n$msg = array\n(\n    'message'   =\u003E 'here is a message. message',\n    'title'     =\u003E 'This is a title. title',\n    'subtitle'  =\u003E 'This is a subtitle. subtitle',\n    'tickerText'    =\u003E 'Ticker text here...Ticker text here...Ticker text here',\n    'vibrate'   =\u003E 1,\n    'sound'     =\u003E 1,\n    'largeIcon' =\u003E 'large_icon',\n    'smallIcon' =\u003E 'small_icon'\n);\n\n$fields = array\n(\n    'registration_ids'  =\u003E $registrationIds,\n    'data'          =\u003E $msg\n);\n \n$headers = array\n(\n    'Authorization: key=' . API_ACCESS_KEY,\n    'Content-Type: application\u002Fjson'\n);\n \n$ch = curl_init();\ncurl_setopt( $ch,CURLOPT_URL, 'https:\u002F\u002Fandroid.googleapis.com\u002Fgcm\u002Fsend' );\ncurl_setopt( $ch,CURLOPT_POST, true );\ncurl_setopt( $ch,CURLOPT_HTTPHEADER, $headers );\ncurl_setopt( $ch,CURLOPT_RETURNTRANSFER, true );\ncurl_setopt( $ch,CURLOPT_SSL_VERIFYPEER, false );\ncurl_setopt( $ch,CURLOPT_POSTFIELDS, json_encode( $fields ) );\n$result = curl_exec($ch );\ncurl_close( $ch );\n\necho $result;"}]}]}]}]}]},{type:a,tag:e,props:{code:H,language:p},children:[{type:a,tag:k,props:{},children:[{type:a,tag:e,props:{__ignoreMap:g},children:[{type:a,tag:c,props:{class:f},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:"ensure connection is secured, so CURLOPT_SSL_VERIFYPEER should be "}]},{type:a,tag:c,props:{class:ai},children:[{type:b,value:"set"}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:" to "}]},{type:a,tag:c,props:{class:ai},children:[{type:b,value:"true"}]}]}]}]}]},{type:a,tag:h,props:{id:I},children:[{type:b,value:J}]},{type:a,tag:e,props:{code:K,language:t},children:[{type:a,tag:k,props:{},children:[{type:a,tag:e,props:{__ignoreMap:g},children:[{type:a,tag:c,props:{class:f},children:[{type:a,tag:c,props:{},children:[{type:b,value:"\u003C?php\n\n    \u002F\u002F Provide the Host Information.\n\n    $tHost = 'gateway.sandbox.push.apple.com';\n\n    $tPort = 2195;\n\n    \u002F\u002F Provide the Certificate and Key Data.\n\n    $tCert = 'dev.pem';\n\n    \u002F\u002F Provide the Private Key Passphrase (alternatively you can keep this secrete\n\n    \u002F\u002F and enter the key manually on the terminal -\u003E remove relevant line from code).\n\n    \u002F\u002F Replace XXXXX with your Passphrase\n\n    $tPassphrase = 'xxxxxx';\n\n    \u002F\u002F Provide the Device Identifier (Ensure that the Identifier does not have spaces in it).\n\n    \u002F\u002F Replace this token with the token of the iOS device that is to receive the notification.\n\n    $tToken = 'ada56107075e4d00f9da001b0ad71200cb953b99266e506884f6eab06f13f666';\n\n    \u002F\u002F The message that is to appear on the dialog.\n\n    $empresa = \"Petiskeira\";\n\n    $tAlert = $empresa . ' tem um recado para você!';\n\n    \u002F\u002F The Badge Number for the Application Icon (integer \u003E=0).\n\n    $tBadge = 1;\n\n    \u002F\u002F Audible Notification Option.\n\n    $tSound = 'default';\n\n    \u002F\u002F The content that is returned by the LiveCode \"pushNotificationReceived\" message.\n\n    $tPayload = '{\"endereco\":\"lauro oscar diefenthaeler\",\"tel\":\"51 3561-8797\",\"numero\":\"243\",\"complemento\":\"0\",\"id\":\"9\",\"nome\":\"petiskeira\",\"msg\":\"Lorem ipsum dolor sit amet, consectetuer adipiscing elit, sed diam nonummy nibh euismod tincidunt ut laoreet dolore magna aliquam erat volutpat. Ut wisi enim ad minim veniam, quis nostrud exerci tation ullamcorper suscipit lobortis nisl ut aliquip ex ea commodo consequat. Duis autem vel eum iriure dolor in hendrerit in vulputate velit esse molestie consequat, vel illum dolore eu feugiat nulla facilisis at vero eros et accumsan et iusto odio dignissim qui blandit praesent luptatum zzril delenit augue duis dolore te feugait nulla facilisi. Nam liber tempor cum soluta nobis eleifend option congue nihil imperdiet doming id quod mazim placerat facer possim assum. Typi non habent claritatem insitam; est usus legentis in iis qui facit eorum claritatem. Investigationes demonstraverunt lectores legere me lius quod ii legunt saepius. Claritas est etiam processus dynamicus, qui sequitur mutationem consuetudium lectorum. Mirum est notare quam littera gothica, quam nunc putamus parum claram, anteposuerit litterarum formas humanitatis per seacula quarta decima et quinta decima. Eodem modo typi, qui nunc nobis videntur parum clari, fiant sollemnes in futurum.\"}';\n\n    \u002F\u002F Create the message content that is to be sent to the device.\n\n    $tBody['aps'] = array (\n\n    'alert' =\u003E $tAlert,\n\n    'badge' =\u003E $tBadge,\n\n    'sound' =\u003E $tSound,\n\n    );\n\n    $tBody ['payload'] = $tPayload;\n\n    \u002F\u002F Encode the body to JSON.\n\n    $tBody = json_encode ($tBody);\n\n    \u002F\u002F Create the Socket Stream.\n\n    $tContext = stream_context_create ();\n\n    stream_context_set_option ($tContext, 'ssl', 'local_cert', $tCert);\n\n    \u002F\u002F Remove this line if you would like to enter the Private Key Passphrase manually.\n\n    stream_context_set_option ($tContext, 'ssl', 'passphrase', $tPassphrase);\n\n    \u002F\u002F Open the Connection to the APNS Server.\n\n    $tSocket = stream_socket_client ('ssl:\u002F\u002F'.$tHost.':'.$tPort, $error, $errstr, 30, STREAM_CLIENT_CONNECT|STREAM_CLIENT_PERSISTENT, $tContext);\n\n    \u002F\u002F Check if we were able to open a socket.\n\n    if (!$tSocket)\n\n    exit (\"APNS Connection Failed: $error $errstr\" . PHP_EOL);\n\n    \u002F\u002F Build the Binary Notification.\n\n    $tMsg = chr (0) . chr (0) . chr (32) . pack ('H*', $tToken) . pack ('n', strlen ($tBody)) . $tBody;\n\n    \u002F\u002F Send the Notification to the Server.\n\n    $tResult = fwrite ($tSocket, $tMsg, strlen ($tMsg));\n\n    if ($tResult){\n\n    echo 'Delivered Message to APNS' . PHP_EOL;\n\n    }else\n\n    echo 'Could not Deliver Message to APNS' . PHP_EOL;\n\n    \u002F\u002F Close the Connection to the Server.\n\n    fclose ($tSocket);\n\n?\u003E"}]}]}]}]}]},{type:a,tag:h,props:{id:L},children:[{type:b,value:M}]},{type:a,tag:s,props:{},children:[{type:a,tag:i,props:{},children:[{type:a,tag:m,props:{href:T,rel:[n]},children:[{type:b,value:U}]}]},{type:a,tag:i,props:{},children:[{type:a,tag:m,props:{href:V,rel:[n]},children:[{type:b,value:W}]}]},{type:a,tag:i,props:{},children:[{type:a,tag:m,props:{href:X,rel:[n]},children:[{type:b,value:Y}]}]},{type:a,tag:i,props:{},children:[{type:a,tag:m,props:{href:Z,rel:[n]},children:[{type:b,value:_}]},{type:b,value:$}]}]},{type:a,tag:"style",children:[{type:b,value:".ct-f00be9{color:#66D9EF}.ct-588e8c{color:#E6DB74}.ct-055374{color:#F92672}.ct-530c38{color:#F8F8F2}"}]}],toc:{title:g,searchDepth:o,depth:o,links:[{id:w,depth:o,text:x},{id:z,depth:o,text:A},{id:C,depth:o,text:D},{id:E,depth:o,text:F},{id:I,depth:o,text:J},{id:L,depth:o,text:M}]}},_type:"markdown",_id:"content:til:vapid-key.md",_source:"content",_file:"til\u002Fvapid-key.md",_extension:aj}},state:{"$scolor-mode":{preference:ak,value:ak,unknown:N,forced:r}},_errors:{},serverRendered:N,config:{public:{content:{base:"_content",tags:{p:"prose-p",a:"prose-a",blockquote:"prose-blockquote","code-inline":"prose-code-inline",code:"prose-code",em:"prose-em",h1:"prose-h1",h2:"prose-h2",h3:"prose-h3",h4:"prose-h4",h5:"prose-h5",h6:"prose-h6",hr:"prose-hr",img:"prose-img",ul:"prose-ul",ol:"prose-ol",li:"prose-li",strong:"prose-strong",table:"prose-table",thead:"prose-thead",tbody:"prose-tbody",td:"prose-td",th:"prose-th",tr:"prose-tr"},highlight:{preload:[p,"c","cpp","xml","diff","json","js","ts","css","shell","html",aj,"yaml"],theme:"monokai",apiURL:"\u002Fapi\u002F_content\u002Fhighlight"},wsUrl:g,documentDriven:r}},app:{baseURL:"\u002F",buildAssetsDir:"\u002F_nuxt\u002F",cdnURL:g}}}}("element","text","span","ct-530c38","code","line","","h2","li","ct-055374","pre","|","a","nofollow",2,"bash","ct-588e8c",false,"ul","php","  "," ","criação-usando-openssl","Criação usando openssl","mkdir -p certs\nopenssl ecparam -name prime256v1 -genkey -noout -out certs\u002Fvapid_private.pem\nopenssl ec -in certs\u002Fvapid_private.pem -pubout  -out certs\u002Fvapid_public.pem\nopenssl ec -in certs\u002Fvapid_private.pem -outform DER \\\n  | tail -c +8 | head -c 32 | base64 | tr -d '=' | tr '\u002F+' '_-' \\\n  \u003E certs\u002Fprivate_key.txt\nopenssl ec -in certs\u002Fvapid_private.pem -pubout -outform DER \\\n  | tail -c 65 | base64 | tr -d '=' | tr '\u002F+' '_-' \\\n  \u003E certs\u002Fpublic_key.txt\n","criação-usando-web-push","Criação usando web-push","npm install -g web-push\nweb-push generate-vapid-keys\n","push-services","Push services","envio-através-do-php-para-android","Envio através do PHP para android","\u003C?php\n\n\u002F\u002F API access key from Google API's Console\ndefine( 'API_ACCESS_KEY', 'YOUR-API-ACCESS-KEY-GOES-HERE' );\n\n\n$registrationIds = array( $_GET['id'] );\n\n\u002F\u002F prep the bundle\n$msg = array\n(\n    'message'   =\u003E 'here is a message. message',\n    'title'     =\u003E 'This is a title. title',\n    'subtitle'  =\u003E 'This is a subtitle. subtitle',\n    'tickerText'    =\u003E 'Ticker text here...Ticker text here...Ticker text here',\n    'vibrate'   =\u003E 1,\n    'sound'     =\u003E 1,\n    'largeIcon' =\u003E 'large_icon',\n    'smallIcon' =\u003E 'small_icon'\n);\n\n$fields = array\n(\n    'registration_ids'  =\u003E $registrationIds,\n    'data'          =\u003E $msg\n);\n \n$headers = array\n(\n    'Authorization: key=' . API_ACCESS_KEY,\n    'Content-Type: application\u002Fjson'\n);\n \n$ch = curl_init();\ncurl_setopt( $ch,CURLOPT_URL, 'https:\u002F\u002Fandroid.googleapis.com\u002Fgcm\u002Fsend' );\ncurl_setopt( $ch,CURLOPT_POST, true );\ncurl_setopt( $ch,CURLOPT_HTTPHEADER, $headers );\ncurl_setopt( $ch,CURLOPT_RETURNTRANSFER, true );\ncurl_setopt( $ch,CURLOPT_SSL_VERIFYPEER, false );\ncurl_setopt( $ch,CURLOPT_POSTFIELDS, json_encode( $fields ) );\n$result = curl_exec($ch );\ncurl_close( $ch );\n\necho $result;\n","ensure connection is secured, so CURLOPT_SSL_VERIFYPEER should be set to true\n","envio-via-php-para-ios","Envio via PHP para IOS","\u003C?php\n\n    \u002F\u002F Provide the Host Information.\n\n    $tHost = 'gateway.sandbox.push.apple.com';\n\n    $tPort = 2195;\n\n    \u002F\u002F Provide the Certificate and Key Data.\n\n    $tCert = 'dev.pem';\n\n    \u002F\u002F Provide the Private Key Passphrase (alternatively you can keep this secrete\n\n    \u002F\u002F and enter the key manually on the terminal -\u003E remove relevant line from code).\n\n    \u002F\u002F Replace XXXXX with your Passphrase\n\n    $tPassphrase = 'xxxxxx';\n\n    \u002F\u002F Provide the Device Identifier (Ensure that the Identifier does not have spaces in it).\n\n    \u002F\u002F Replace this token with the token of the iOS device that is to receive the notification.\n\n    $tToken = 'ada56107075e4d00f9da001b0ad71200cb953b99266e506884f6eab06f13f666';\n\n    \u002F\u002F The message that is to appear on the dialog.\n\n    $empresa = \"Petiskeira\";\n\n    $tAlert = $empresa . ' tem um recado para você!';\n\n    \u002F\u002F The Badge Number for the Application Icon (integer \u003E=0).\n\n    $tBadge = 1;\n\n    \u002F\u002F Audible Notification Option.\n\n    $tSound = 'default';\n\n    \u002F\u002F The content that is returned by the LiveCode \"pushNotificationReceived\" message.\n\n    $tPayload = '{\"endereco\":\"lauro oscar diefenthaeler\",\"tel\":\"51 3561-8797\",\"numero\":\"243\",\"complemento\":\"0\",\"id\":\"9\",\"nome\":\"petiskeira\",\"msg\":\"Lorem ipsum dolor sit amet, consectetuer adipiscing elit, sed diam nonummy nibh euismod tincidunt ut laoreet dolore magna aliquam erat volutpat. Ut wisi enim ad minim veniam, quis nostrud exerci tation ullamcorper suscipit lobortis nisl ut aliquip ex ea commodo consequat. Duis autem vel eum iriure dolor in hendrerit in vulputate velit esse molestie consequat, vel illum dolore eu feugiat nulla facilisis at vero eros et accumsan et iusto odio dignissim qui blandit praesent luptatum zzril delenit augue duis dolore te feugait nulla facilisi. Nam liber tempor cum soluta nobis eleifend option congue nihil imperdiet doming id quod mazim placerat facer possim assum. Typi non habent claritatem insitam; est usus legentis in iis qui facit eorum claritatem. Investigationes demonstraverunt lectores legere me lius quod ii legunt saepius. Claritas est etiam processus dynamicus, qui sequitur mutationem consuetudium lectorum. Mirum est notare quam littera gothica, quam nunc putamus parum claram, anteposuerit litterarum formas humanitatis per seacula quarta decima et quinta decima. Eodem modo typi, qui nunc nobis videntur parum clari, fiant sollemnes in futurum.\"}';\n\n    \u002F\u002F Create the message content that is to be sent to the device.\n\n    $tBody['aps'] = array (\n\n    'alert' =\u003E $tAlert,\n\n    'badge' =\u003E $tBadge,\n\n    'sound' =\u003E $tSound,\n\n    );\n\n    $tBody ['payload'] = $tPayload;\n\n    \u002F\u002F Encode the body to JSON.\n\n    $tBody = json_encode ($tBody);\n\n    \u002F\u002F Create the Socket Stream.\n\n    $tContext = stream_context_create ();\n\n    stream_context_set_option ($tContext, 'ssl', 'local_cert', $tCert);\n\n    \u002F\u002F Remove this line if you would like to enter the Private Key Passphrase manually.\n\n    stream_context_set_option ($tContext, 'ssl', 'passphrase', $tPassphrase);\n\n    \u002F\u002F Open the Connection to the APNS Server.\n\n    $tSocket = stream_socket_client ('ssl:\u002F\u002F'.$tHost.':'.$tPort, $error, $errstr, 30, STREAM_CLIENT_CONNECT|STREAM_CLIENT_PERSISTENT, $tContext);\n\n    \u002F\u002F Check if we were able to open a socket.\n\n    if (!$tSocket)\n\n    exit (\"APNS Connection Failed: $error $errstr\" . PHP_EOL);\n\n    \u002F\u002F Build the Binary Notification.\n\n    $tMsg = chr (0) . chr (0) . chr (32) . pack ('H*', $tToken) . pack ('n', strlen ($tBody)) . $tBody;\n\n    \u002F\u002F Send the Notification to the Server.\n\n    $tResult = fwrite ($tSocket, $tMsg, strlen ($tMsg));\n\n    if ($tResult){\n\n    echo 'Delivered Message to APNS' . PHP_EOL;\n\n    }else\n\n    echo 'Could not Deliver Message to APNS' . PHP_EOL;\n\n    \u002F\u002F Close the Connection to the Server.\n\n    fclose ($tSocket);\n\n?\u003E\n","referências","Referências",true,"root","p","VAPID (Voluntary Application Server Identification)\né o novo meio de receber e enviar notificações push através da web.","fcm.googleapi.com - firebase - Google","updates.push.service.mozilla.com - Firefox","https:\u002F\u002Fgithub.com\u002Frtancman\u002Fflask-pywebpush\u002Fblob\u002Fmaster\u002FMakefile","Makefile do flask-pywebpush","https:\u002F\u002Fwww.rtancman.com.br\u002Fpython\u002Fcriando-sistema-de-notificacoes-com-pywebpush.html","Criando um sistema de notificações com pywebpush","https:\u002F\u002Fmedium.com\u002Fizettle-engineering\u002Fbeginners-guide-to-web-push-notifications-using-service-workers-cb3474a17679","Beginners guide to Web Push Notifications using Service Workers","https:\u002F\u002Fgist.github.com\u002Fprime31\u002F5675017","gits: envio de webpush usando PHP"," Aqui tem muitos comentários importantes"," base64 "," tr -d ","'='"," tr ","'\u002F+'","'_-'"," \\","\u003E","ct-f00be9","md","system"))</script><script type="module" src="/_nuxt/entry.5270b287.js" crossorigin></script><script type="module" src="/_nuxt/default.97798889.js" crossorigin></script><script type="module" src="/_nuxt/Header.5a1598ee.js" crossorigin></script><script type="module" src="/_nuxt/NavBar.d04b0bad.js" crossorigin></script><script type="module" src="/_nuxt/_...slug_.e8fb6df7.js" crossorigin></script><script type="module" src="/_nuxt/Footer.9f2a5b8e.js" crossorigin></script><script type="module" src="/_nuxt/BackLink.95bf9f40.js" crossorigin></script><script type="module" src="/_nuxt/ProseH1.d6ff0874.js" crossorigin></script><script type="module" src="/_nuxt/TilDate.68ffd300.js" crossorigin></script><script type="module" src="/_nuxt/TilTags.01c0cbc0.js" crossorigin></script><script type="module" src="/_nuxt/TilRelated.9c76207e.js" crossorigin></script><script type="module" src="/_nuxt/ProseP.050e84b0.js" crossorigin></script><script type="module" src="/_nuxt/ProseH2.0635f235.js" crossorigin></script><script type="module" src="/_nuxt/ProseCode.a79a3316.js" crossorigin></script><script type="module" src="/_nuxt/ProseUl.42d40c3b.js" crossorigin></script><script type="module" src="/_nuxt/ProseLi.edc18320.js" crossorigin></script><script type="module" src="/_nuxt/ProseA.e0b8b1cf.js" crossorigin></script></body>
</html>